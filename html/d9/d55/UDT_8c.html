<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PL-JAVA (shared library): /home/bgiles/src/tada/pljava/pljava-so/src/main/c/type/UDT.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../pljava_logo_cropped.png"/></td>
  <td id="projectalign">
   <div id="projectname">PL-JAVA (shared library)
   </div>
   <div id="projectbrief">PL/Java server-side extension (C)</div>
  </td>
 </tr>
   <tr><td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td></tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d9/d55/UDT_8c.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">UDT.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;postgres.h&gt;</code><br />
<code>#include &lt;catalog/pg_namespace.h&gt;</code><br />
<code>#include &lt;utils/builtins.h&gt;</code><br />
<code>#include &lt;utils/bytea.h&gt;</code><br />
<code>#include &lt;utils/typcache.h&gt;</code><br />
<code>#include &lt;libpq/pqformat.h&gt;</code><br />
<code>#include &lt;funcapi.h&gt;</code><br />
<code>#include &quot;pljava/type/UDT_priv.h&quot;</code><br />
<code>#include &quot;pljava/type/String.h&quot;</code><br />
<code>#include &quot;pljava/type/Tuple.h&quot;</code><br />
<code>#include &quot;pljava/Function.h&quot;</code><br />
<code>#include &quot;pljava/Invocation.h&quot;</code><br />
<code>#include &quot;pljava/SQLInputFromChunk.h&quot;</code><br />
<code>#include &quot;pljava/SQLOutputToChunk.h&quot;</code><br />
<code>#include &quot;pljava/SQLInputFromTuple.h&quot;</code><br />
<code>#include &quot;pljava/SQLOutputToTuple.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for UDT.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d6b/UDT_8c__incl.png" border="0" usemap="#a_2home_2bgiles_2src_2tada_2pljava_2pljava-so_2src_2main_2c_2type_2UDT_8c" alt=""/></div>
<map name="a_2home_2bgiles_2src_2tada_2pljava_2pljava-so_2src_2main_2c_2type_2UDT_8c" id="a_2home_2bgiles_2src_2tada_2pljava_2pljava-so_2src_2main_2c_2type_2UDT_8c">
<area shape="rect" title=" " alt="" coords="1012,5,1159,60"/>
<area shape="rect" title=" " alt="" coords="5,108,88,133"/>
<area shape="poly" title=" " alt="" coords="1012,39,850,45,626,58,368,80,102,111,102,105,367,74,626,53,849,40,1011,33"/>
<area shape="rect" title=" " alt="" coords="113,108,279,133"/>
<area shape="poly" title=" " alt="" coords="1012,43,703,70,293,110,293,105,703,65,1012,38"/>
<area shape="rect" title=" " alt="" coords="303,108,406,133"/>
<area shape="poly" title=" " alt="" coords="1012,43,755,69,420,111,419,105,754,64,1011,38"/>
<area shape="rect" title=" " alt="" coords="431,108,524,133"/>
<area shape="poly" title=" " alt="" coords="1012,45,803,72,538,111,537,105,802,66,1011,40"/>
<area shape="rect" title=" " alt="" coords="548,108,663,133"/>
<area shape="poly" title=" " alt="" coords="1012,50,677,109,676,104,1011,44"/>
<area shape="rect" title=" " alt="" coords="687,108,801,133"/>
<area shape="poly" title=" " alt="" coords="1012,55,804,107,802,102,1011,50"/>
<area shape="rect" title=" " alt="" coords="825,108,900,133"/>
<area shape="poly" title=" " alt="" coords="1018,63,906,105,904,100,1016,58"/>
<area shape="rect" title=" " alt="" coords="924,108,1079,133"/>
<area shape="poly" title=" " alt="" coords="1062,62,1024,100,1020,96,1058,58"/>
<area shape="rect" title=" " alt="" coords="1103,108,1238,133"/>
<area shape="poly" title=" " alt="" coords="1113,58,1151,96,1147,100,1110,62"/>
<area shape="rect" title=" " alt="" coords="1262,108,1394,133"/>
<area shape="poly" title=" " alt="" coords="1160,57,1284,101,1282,106,1158,62"/>
<area shape="rect" title=" " alt="" coords="1418,108,1539,133"/>
<area shape="poly" title=" " alt="" coords="1159,47,1414,103,1413,108,1158,53"/>
<area shape="rect" title=" " alt="" coords="1564,108,1695,133"/>
<area shape="poly" title=" " alt="" coords="1159,43,1551,104,1550,110,1158,48"/>
<area shape="rect" title=" " alt="" coords="1719,108,1913,133"/>
<area shape="poly" title=" " alt="" coords="1159,40,1705,104,1705,109,1158,45"/>
<area shape="rect" title=" " alt="" coords="1938,108,2126,133"/>
<area shape="poly" title=" " alt="" coords="1159,37,1925,105,1924,111,1159,43"/>
<area shape="rect" title=" " alt="" coords="2150,108,2338,133"/>
<area shape="poly" title=" " alt="" coords="1159,36,1571,62,2137,105,2136,111,1570,67,1159,41"/>
<area shape="rect" title=" " alt="" coords="2362,108,2545,133"/>
<area shape="poly" title=" " alt="" coords="1159,34,1653,58,1995,79,2348,105,2348,110,1995,84,1653,64,1159,40"/>
</map>
</div>
</div>
<p><a href="../../d9/d55/UDT_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a61bb0321fe8a0d118ec1c3f88dcf9484" id="r_a61bb0321fe8a0d118ec1c3f88dcf9484"><td class="memItemLeft" align="right" valign="top">static jobject&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d55/UDT_8c.html#a61bb0321fe8a0d118ec1c3f88dcf9484">coerceScalarDatum</a> (UDT self, Datum arg)</td></tr>
<tr class="separator:a61bb0321fe8a0d118ec1c3f88dcf9484"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a128481caca466bc7ab016e387bc00c43" id="r_a128481caca466bc7ab016e387bc00c43"><td class="memItemLeft" align="right" valign="top">static jobject&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d55/UDT_8c.html#a128481caca466bc7ab016e387bc00c43">coerceTupleDatum</a> (UDT udt, Datum arg)</td></tr>
<tr class="separator:a128481caca466bc7ab016e387bc00c43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9091f4637c3def5aac3eb8013384ee7" id="r_ae9091f4637c3def5aac3eb8013384ee7"><td class="memItemLeft" align="right" valign="top">static Datum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d55/UDT_8c.html#ae9091f4637c3def5aac3eb8013384ee7">coerceScalarObject</a> (UDT self, jobject value)</td></tr>
<tr class="separator:ae9091f4637c3def5aac3eb8013384ee7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dc289bfe80227cd42c4f8ff53c7f9a4" id="r_a7dc289bfe80227cd42c4f8ff53c7f9a4"><td class="memItemLeft" align="right" valign="top">static Datum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d55/UDT_8c.html#a7dc289bfe80227cd42c4f8ff53c7f9a4">coerceTupleObject</a> (UDT self, jobject value)</td></tr>
<tr class="separator:a7dc289bfe80227cd42c4f8ff53c7f9a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dfe1f0680c22cb13359e8477fae27e4" id="r_a1dfe1f0680c22cb13359e8477fae27e4"><td class="memItemLeft" align="right" valign="top">jvalue&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d55/UDT_8c.html#a1dfe1f0680c22cb13359e8477fae27e4">_UDT_coerceDatum</a> (<a class="el" href="../../d0/ddd/Oid_8c.html#ae1f0ac82c78444bf9b69e7dbdd1d1983">Type</a> self, Datum arg)</td></tr>
<tr class="separator:a1dfe1f0680c22cb13359e8477fae27e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae92fe5f07c0117e03229bb6d5e8bc60" id="r_aae92fe5f07c0117e03229bb6d5e8bc60"><td class="memItemLeft" align="right" valign="top">Datum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d55/UDT_8c.html#aae92fe5f07c0117e03229bb6d5e8bc60">_UDT_coerceObject</a> (<a class="el" href="../../d0/ddd/Oid_8c.html#ae1f0ac82c78444bf9b69e7dbdd1d1983">Type</a> self, jobject value)</td></tr>
<tr class="separator:aae92fe5f07c0117e03229bb6d5e8bc60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdfb0dc3dd48fc509e511cb3b63c2d23" id="r_abdfb0dc3dd48fc509e511cb3b63c2d23"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d55/UDT_8c.html#abdfb0dc3dd48fc509e511cb3b63c2d23">noTypmodYet</a> (UDT udt, PG_FUNCTION_ARGS)</td></tr>
<tr class="separator:abdfb0dc3dd48fc509e511cb3b63c2d23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad871f5aa0e74451c409c8b30ce75e384" id="r_ad871f5aa0e74451c409c8b30ce75e384"><td class="memItemLeft" align="right" valign="top">Datum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d55/UDT_8c.html#ad871f5aa0e74451c409c8b30ce75e384">UDT_input</a> (UDT udt, PG_FUNCTION_ARGS)</td></tr>
<tr class="separator:ad871f5aa0e74451c409c8b30ce75e384"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafa3e55ad7b3ada2875c9e5f25200e69" id="r_aafa3e55ad7b3ada2875c9e5f25200e69"><td class="memItemLeft" align="right" valign="top">Datum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d55/UDT_8c.html#aafa3e55ad7b3ada2875c9e5f25200e69">UDT_output</a> (UDT udt, PG_FUNCTION_ARGS)</td></tr>
<tr class="separator:aafa3e55ad7b3ada2875c9e5f25200e69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bb62f32e51b87dc9b80f7a31ce964c8" id="r_a4bb62f32e51b87dc9b80f7a31ce964c8"><td class="memItemLeft" align="right" valign="top">Datum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d55/UDT_8c.html#a4bb62f32e51b87dc9b80f7a31ce964c8">UDT_receive</a> (UDT udt, PG_FUNCTION_ARGS)</td></tr>
<tr class="separator:a4bb62f32e51b87dc9b80f7a31ce964c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7d5631da3b704ef978f3c309e5b684f" id="r_ae7d5631da3b704ef978f3c309e5b684f"><td class="memItemLeft" align="right" valign="top">Datum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d55/UDT_8c.html#ae7d5631da3b704ef978f3c309e5b684f">UDT_send</a> (UDT udt, PG_FUNCTION_ARGS)</td></tr>
<tr class="separator:ae7d5631da3b704ef978f3c309e5b684f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb09fd4ef543dc73a80b2035e070f49a" id="r_adb09fd4ef543dc73a80b2035e070f49a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d55/UDT_8c.html#adb09fd4ef543dc73a80b2035e070f49a">UDT_isScalar</a> (UDT udt)</td></tr>
<tr class="separator:adb09fd4ef543dc73a80b2035e070f49a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a654241f236fc531dc6e4751852e2ad4a" id="r_a654241f236fc531dc6e4751852e2ad4a"><td class="memItemLeft" align="right" valign="top">UDT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d55/UDT_8c.html#a654241f236fc531dc6e4751852e2ad4a">UDT_registerUDT</a> (jclass clazz, Oid typeId, Form_pg_type pgType, bool hasTupleDesc, bool isJavaBasedScalar, jobject parseMH, jobject readMH, jobject writeMH, jobject toStringMH)</td></tr>
<tr class="separator:a654241f236fc531dc6e4751852e2ad4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a1dfe1f0680c22cb13359e8477fae27e4" name="a1dfe1f0680c22cb13359e8477fae27e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dfe1f0680c22cb13359e8477fae27e4">&#9670;&#160;</a></span>_UDT_coerceDatum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">jvalue _UDT_coerceDatum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/ddd/Oid_8c.html#ae1f0ac82c78444bf9b69e7dbdd1d1983">Type</a>&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Datum&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d55/UDT_8c_source.html#l00230">230</a> of file <a class="el" href="../../d9/d55/UDT_8c_source.html">UDT.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  231</span>{</div>
<div class="line"><span class="lineno">  232</span>    jvalue result;</div>
<div class="line"><span class="lineno">  233</span>    UDT    udt = (UDT)self;</div>
<div class="line"><span class="lineno">  234</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d9/d55/UDT_8c.html#adb09fd4ef543dc73a80b2035e070f49a">UDT_isScalar</a>(udt))</div>
<div class="line"><span class="lineno">  235</span>        result.l = <a class="code hl_function" href="../../d9/d55/UDT_8c.html#a61bb0321fe8a0d118ec1c3f88dcf9484">coerceScalarDatum</a>(udt, arg);</div>
<div class="line"><span class="lineno">  236</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  237</span>        result.l = <a class="code hl_function" href="../../d9/d55/UDT_8c.html#a128481caca466bc7ab016e387bc00c43">coerceTupleDatum</a>(udt, arg);</div>
<div class="line"><span class="lineno">  238</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  239</span>}</div>
<div class="ttc" id="aUDT_8c_html_a128481caca466bc7ab016e387bc00c43"><div class="ttname"><a href="../../d9/d55/UDT_8c.html#a128481caca466bc7ab016e387bc00c43">coerceTupleDatum</a></div><div class="ttdeci">static jobject coerceTupleDatum(UDT udt, Datum arg)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d55/UDT_8c_source.html#l00128">UDT.c:128</a></div></div>
<div class="ttc" id="aUDT_8c_html_a61bb0321fe8a0d118ec1c3f88dcf9484"><div class="ttname"><a href="../../d9/d55/UDT_8c.html#a61bb0321fe8a0d118ec1c3f88dcf9484">coerceScalarDatum</a></div><div class="ttdeci">static jobject coerceScalarDatum(UDT self, Datum arg)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d55/UDT_8c_source.html#l00065">UDT.c:65</a></div></div>
<div class="ttc" id="aUDT_8c_html_adb09fd4ef543dc73a80b2035e070f49a"><div class="ttname"><a href="../../d9/d55/UDT_8c.html#adb09fd4ef543dc73a80b2035e070f49a">UDT_isScalar</a></div><div class="ttdeci">bool UDT_isScalar(UDT udt)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d55/UDT_8c_source.html#l00420">UDT.c:420</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d55/UDT_8c_source.html#l00065">coerceScalarDatum()</a>, <a class="el" href="../../d9/d55/UDT_8c_source.html#l00128">coerceTupleDatum()</a>, and <a class="el" href="../../d9/d55/UDT_8c_source.html#l00420">UDT_isScalar()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d55/UDT_8c_source.html#l00324">UDT_output()</a>, and <a class="el" href="../../d9/d55/UDT_8c_source.html#l00428">UDT_registerUDT()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d55/UDT_8c_a1dfe1f0680c22cb13359e8477fae27e4_icgraph.png" border="0" usemap="#ad9/d55/UDT_8c_a1dfe1f0680c22cb13359e8477fae27e4_icgraph" alt=""/></div>
<map name="ad9/d55/UDT_8c_a1dfe1f0680c22cb13359e8477fae27e4_icgraph" id="ad9/d55/UDT_8c_a1dfe1f0680c22cb13359e8477fae27e4_icgraph">
<area shape="rect" title=" " alt="" coords="2772,140,2915,165"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#aafa3e55ad7b3ada2875c9e5f25200e69" title=" " alt="" coords="2613,115,2707,140"/>
<area shape="poly" title=" " alt="" coords="2758,144,2706,136,2707,131,2759,138"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#a654241f236fc531dc6e4751852e2ad4a" title=" " alt="" coords="2596,164,2724,189"/>
<area shape="poly" title=" " alt="" coords="2759,166,2725,171,2724,166,2758,161"/>
<area shape="rect" href="../../db/d47/Function_8c.html#ae5b265e5bcb93d99775286e38eb534e1" title=" " alt="" coords="2131,99,2300,153"/>
<area shape="poly" title=" " alt="" coords="2599,130,2300,129,2300,124,2599,124"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a7146fbf1c801b1839fb3772cc8c5f287" title=" " alt="" coords="1689,5,1815,31"/>
<area shape="poly" title=" " alt="" coords="2164,93,2125,71,2082,53,2012,35,1941,25,1815,19,1816,14,1941,20,2013,30,2084,47,2127,66,2167,89"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ac1df8c0fa25768dd0de490127eb894e6" title=" " alt="" coords="540,260,671,285"/>
<area shape="poly" title=" " alt="" coords="1675,31,1484,50,1370,58,1255,61,1030,61,963,67,898,86,836,112,778,144,726,178,681,211,622,262,618,258,678,207,723,174,775,139,833,107,896,81,962,62,1030,55,1255,55,1369,52,1484,45,1675,25"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a41964073f7e490c598598f219de9606e" title=" " alt="" coords="393,260,492,285"/>
<area shape="poly" title=" " alt="" coords="526,275,492,275,492,270,526,270"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a29e1a0b0688ac19dbde93824e4ae1a59" title=" " alt="" coords="228,87,300,112"/>
<area shape="poly" title=" " alt="" coords="429,248,397,186,373,153,344,125,322,114,299,107,301,102,324,109,347,121,377,150,402,183,434,246"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a9cbb2a371195bb22f404fd9910d1436e" title=" " alt="" coords="208,136,320,161"/>
<area shape="poly" title=" " alt="" coords="423,251,389,212,344,175,319,163,321,159,347,170,393,208,427,247"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a1277cef3aef64b77b88878cf83d5724a" title=" " alt="" coords="183,185,345,211"/>
<area shape="poly" title=" " alt="" coords="406,256,344,226,309,213,311,208,346,221,408,251"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a54ecef1f816b5662e19fac6f7ea3f8bb" title=" " alt="" coords="183,235,345,260"/>
<area shape="poly" title=" " alt="" coords="380,266,345,262,346,256,380,261"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#afd0a2e48ec1b9c86c5dd07ee5f734fa8" title=" " alt="" coords="183,284,345,309"/>
<area shape="poly" title=" " alt="" coords="380,284,346,288,345,283,380,278"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a3af9b4a4b0b466102f653080d2e7ad1f" title=" " alt="" coords="183,333,345,359"/>
<area shape="poly" title=" " alt="" coords="409,294,346,324,314,336,312,331,344,320,407,289"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a892bcd3e4f63977cc8b90e3e31974535" title=" " alt="" coords="198,383,330,408"/>
<area shape="poly" title=" " alt="" coords="426,299,392,337,347,374,322,385,320,380,344,369,388,333,422,295"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a65144c70313a704b5ba376ffe2e4fa10" title=" " alt="" coords="207,432,321,457"/>
<area shape="poly" title=" " alt="" coords="434,299,401,361,377,394,347,423,323,436,320,431,344,419,373,391,397,358,429,297"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a149f96da8ffb4412ebab795d11a9363f" title=" " alt="" coords="9,333,131,359"/>
<area shape="poly" title=" " alt="" coords="200,382,120,361,122,356,201,377"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#aff8517f9c34bbbf01ad9cb9f8b8fc825" title=" " alt="" coords="5,383,135,408"/>
<area shape="poly" title=" " alt="" coords="184,398,135,398,135,393,184,393"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ab0c4cd941202a415ffad7e744e8baf0c" title=" " alt="" coords="19,432,121,457"/>
<area shape="poly" title=" " alt="" coords="193,447,121,447,121,442,193,442"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#af5381c5b0b0a84097ce4a70339f67705" title=" " alt="" coords="15,481,125,507"/>
<area shape="poly" title=" " alt="" coords="201,463,122,484,120,479,200,458"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#acd6872ccab1abaa9786a72920a32122e" title=" " alt="" coords="2369,213,2527,239"/>
<area shape="poly" title=" " alt="" coords="2592,195,2504,216,2503,211,2591,190"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a8f6cc6234bdd9b98812a5ed72171b41f" title=" " alt="" coords="2348,164,2548,189"/>
<area shape="poly" title=" " alt="" coords="2582,179,2548,179,2548,174,2582,174"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#a8987191520260e0903f4f12aeaef9029" title=" " alt="" coords="2164,213,2267,239"/>
<area shape="poly" title=" " alt="" coords="2355,229,2267,229,2267,223,2355,223"/>
<area shape="poly" title=" " alt="" coords="2254,204,2243,195,2215,192,2192,194,2180,199,2178,204,2184,212,2180,215,2172,205,2176,195,2191,189,2215,187,2245,190,2257,199"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#a8b2adfe9fbb800c8206c93ecc428d492" title=" " alt="" coords="1931,384,2063,409"/>
<area shape="poly" title=" " alt="" coords="2190,250,2084,336,2018,386,2015,382,2081,332,2187,245"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#a81b8d7ae61921b88a7cd2174a9f4f315" title=" " alt="" coords="1916,509,2079,535"/>
<area shape="poly" title=" " alt="" coords="2201,252,2151,329,2085,424,2013,510,2009,507,2081,420,2147,326,2197,249"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#ae44751e9d256ab4657a0b6ce585f5212" title=" " alt="" coords="1944,148,2051,173"/>
<area shape="poly" title=" " alt="" coords="2158,212,2040,176,2041,171,2160,207"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a0d9705bd13cc0019fbc604a62d3d9df2" title=" " alt="" coords="1913,63,2082,117"/>
<area shape="poly" title=" " alt="" coords="2184,207,2081,138,2050,120,2053,115,2084,133,2187,203"/>
<area shape="rect" href="../../d7/d3e/Relation_8c.html#a839ad6d78f5757e0913140f60054d239" title=" " alt="" coords="1914,199,2081,253"/>
<area shape="poly" title=" " alt="" coords="2150,229,2081,229,2081,223,2150,223"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#a546e0e9b27a7bc9f94eaea1012b2bbb1" title=" " alt="" coords="1912,296,2083,321"/>
<area shape="poly" title=" " alt="" coords="2169,246,2033,298,2031,293,2167,241"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#a011864d5eae28703b5cc5e4959109f19" title=" " alt="" coords="1439,497,1538,523"/>
<area shape="poly" title=" " alt="" coords="1965,419,1919,444,1865,466,1776,487,1686,501,1539,512,1538,507,1686,496,1775,482,1863,461,1917,439,1963,414"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#a1303ff39e1cdff6f19c7670bd4ec8be7" title=" " alt="" coords="1201,448,1305,473"/>
<area shape="poly" title=" " alt="" coords="1425,500,1305,474,1306,469,1426,494"/>
<area shape="poly" title=" " alt="" coords="1187,458,1072,442,1006,430,941,414,849,384,761,348,630,288,633,283,763,343,851,379,942,409,1007,425,1072,437,1188,452"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#aff8b56773fa6193ae8bb9376bd3afd25" title=" " alt="" coords="1675,527,1829,552"/>
<area shape="poly" title=" " alt="" coords="1903,531,1830,537,1829,531,1902,526"/>
<area shape="poly" title=" " alt="" coords="1661,532,1538,518,1539,513,1661,527"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#a2778e4be551c7d0fa9554bba54a13baa" title=" " alt="" coords="1663,133,1841,188"/>
<area shape="poly" title=" " alt="" coords="1930,163,1841,163,1841,158,1930,158"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#a6389e86cbf9f74354e820baaff15982c" title=" " alt="" coords="1663,55,1841,109"/>
<area shape="poly" title=" " alt="" coords="1943,146,1837,112,1839,107,1944,141"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#aaaa4855fbf861e872df9bfb810cc101e" title=" " alt="" coords="1415,138,1562,178"/>
<area shape="poly" title=" " alt="" coords="1649,162,1562,161,1562,156,1649,157"/>
<area shape="rect" href="../../d9/db5/DualState_8c.html#a8d801b0a312cffe3bff0b46e7a5bb6e8" title=" " alt="" coords="719,260,893,285"/>
<area shape="poly" title=" " alt="" coords="1402,154,1306,152,1189,155,1064,169,1002,181,942,197,908,210,875,228,825,262,822,258,873,223,906,205,941,191,1001,175,1064,164,1189,150,1306,147,1402,149"/>
<area shape="poly" title=" " alt="" coords="705,275,671,275,671,270,705,270"/>
<area shape="poly" title=" " alt="" coords="1651,114,1560,141,1558,135,1649,109"/>
<area shape="poly" title=" " alt="" coords="1912,61,1863,45,1815,33,1816,27,1865,39,1914,55"/>
<area shape="rect" href="../../d7/d3e/Relation_8c.html#a417f173169e1a1f11b29b494d7d34612" title=" " alt="" coords="949,205,1114,231"/>
<area shape="poly" title=" " alt="" coords="1900,228,1114,221,1114,216,1900,223"/>
<area shape="poly" title=" " alt="" coords="966,236,860,263,858,257,965,231"/>
<area shape="rect" href="../../d0/ddd/Oid_8c.html#ae6f8b71f69b5d0638f5aef657dc67a16" title=" " alt="" coords="1673,396,1831,451"/>
<area shape="poly" title=" " alt="" coords="1966,331,1919,359,1865,387,1832,401,1830,396,1863,382,1917,354,1964,326"/>
<area shape="rect" href="../../df/df4/TupleDesc_8c.html#af939622dbe1e808a0c2eac99630fab60" title=" " alt="" coords="1661,317,1843,372"/>
<area shape="poly" title=" " alt="" coords="1899,326,1844,334,1843,329,1898,321"/>
<area shape="rect" href="../../df/df4/TupleDesc_8c.html#a9ccdcf8c074cfd34097e6a95f7d34815" title=" " alt="" coords="1640,268,1864,293"/>
<area shape="poly" title=" " alt="" coords="1898,300,1863,296,1864,291,1899,295"/>
<area shape="rect" href="../../d0/ddd/Oid_8c.html#a5250929ac42e2d6c9f4433312102b822" title=" " alt="" coords="1441,448,1537,473"/>
<area shape="poly" title=" " alt="" coords="1660,439,1537,457,1536,451,1659,434"/>
<area shape="poly" title=" " alt="" coords="1427,463,1306,463,1306,458,1427,458"/>
<area shape="rect" href="../../df/df4/TupleDesc_8c.html#a8cc68891ac2f6c575a6c0d95a5b28b84" title=" " alt="" coords="941,373,1121,399"/>
<area shape="poly" title=" " alt="" coords="1647,365,1592,373,1464,383,1336,389,1122,390,1122,385,1336,383,1464,378,1592,367,1647,360"/>
<area shape="poly" title=" " alt="" coords="978,371,940,355,876,320,825,288,828,283,879,315,942,350,980,366"/>
<area shape="rect" href="../../dd/dbc/SingleRowReader_8c.html#af42ece0157878da0404a440fe9551d0e" title=" " alt="" coords="1385,253,1592,308"/>
<area shape="poly" title=" " alt="" coords="1626,283,1592,283,1592,278,1626,278"/>
<area shape="rect" href="../../db/dad/Tuple_8c.html#a8d83236dd5812e7d7497976738a508f3" title=" " alt="" coords="1409,332,1568,357"/>
<area shape="poly" title=" " alt="" coords="1679,299,1641,309,1593,323,1547,335,1546,329,1591,318,1639,303,1678,294"/>
<area shape="rect" href="../../dd/dbc/SingleRowReader_8c.html#a32bb724881c2c4c62b37f7c5e7bd122d" title=" " alt="" coords="1169,253,1337,293"/>
<area shape="poly" title=" " alt="" coords="1372,279,1337,278,1338,273,1372,274"/>
<area shape="poly" title=" " alt="" coords="1155,275,893,275,893,270,1155,270"/>
<area shape="rect" href="../../db/dad/Tuple_8c.html#a7333d95832231a2075f1b1f20cb45875" title=" " alt="" coords="1178,317,1329,372"/>
<area shape="poly" title=" " alt="" coords="1396,347,1329,347,1329,342,1396,342"/>
<area shape="rect" href="../../db/dad/Tuple_8c.html#a801e0981f16603c770fd4dc2d57b7c7b" title=" " alt="" coords="957,315,1106,340"/>
<area shape="poly" title=" " alt="" coords="1164,340,1106,336,1106,330,1164,335"/>
<area shape="poly" title=" " alt="" coords="965,314,858,288,860,283,966,309"/>
<area shape="poly" title=" " alt="" coords="2374,163,2300,147,2301,142,2376,158"/>
<area shape="poly" title=" " alt="" coords="2375,195,2267,218,2266,213,2374,190"/>
</map>
</div>

</div>
</div>
<a id="aae92fe5f07c0117e03229bb6d5e8bc60" name="aae92fe5f07c0117e03229bb6d5e8bc60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae92fe5f07c0117e03229bb6d5e8bc60">&#9670;&#160;</a></span>_UDT_coerceObject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Datum _UDT_coerceObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/ddd/Oid_8c.html#ae1f0ac82c78444bf9b69e7dbdd1d1983">Type</a>&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d55/UDT_8c_source.html#l00241">241</a> of file <a class="el" href="../../d9/d55/UDT_8c_source.html">UDT.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  242</span>{</div>
<div class="line"><span class="lineno">  243</span>    Datum result;</div>
<div class="line"><span class="lineno">  244</span>    UDT udt = (UDT)self;</div>
<div class="line"><span class="lineno">  245</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d9/d55/UDT_8c.html#adb09fd4ef543dc73a80b2035e070f49a">UDT_isScalar</a>(udt))</div>
<div class="line"><span class="lineno">  246</span>        result = <a class="code hl_function" href="../../d9/d55/UDT_8c.html#ae9091f4637c3def5aac3eb8013384ee7">coerceScalarObject</a>(udt, value);</div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  248</span>        result = <a class="code hl_function" href="../../d9/d55/UDT_8c.html#a7dc289bfe80227cd42c4f8ff53c7f9a4">coerceTupleObject</a>(udt, value);</div>
<div class="line"><span class="lineno">  249</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  250</span>}</div>
<div class="ttc" id="aUDT_8c_html_a7dc289bfe80227cd42c4f8ff53c7f9a4"><div class="ttname"><a href="../../d9/d55/UDT_8c.html#a7dc289bfe80227cd42c4f8ff53c7f9a4">coerceTupleObject</a></div><div class="ttdeci">static Datum coerceTupleObject(UDT self, jobject value)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d55/UDT_8c_source.html#l00212">UDT.c:212</a></div></div>
<div class="ttc" id="aUDT_8c_html_ae9091f4637c3def5aac3eb8013384ee7"><div class="ttname"><a href="../../d9/d55/UDT_8c.html#ae9091f4637c3def5aac3eb8013384ee7">coerceScalarObject</a></div><div class="ttdeci">static Datum coerceScalarObject(UDT self, jobject value)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d55/UDT_8c_source.html#l00139">UDT.c:139</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d55/UDT_8c_source.html#l00139">coerceScalarObject()</a>, <a class="el" href="../../d9/d55/UDT_8c_source.html#l00212">coerceTupleObject()</a>, and <a class="el" href="../../d9/d55/UDT_8c_source.html#l00420">UDT_isScalar()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d55/UDT_8c_source.html#l00284">UDT_input()</a>, and <a class="el" href="../../d9/d55/UDT_8c_source.html#l00428">UDT_registerUDT()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d55/UDT_8c_aae92fe5f07c0117e03229bb6d5e8bc60_icgraph.png" border="0" usemap="#ad9/d55/UDT_8c_aae92fe5f07c0117e03229bb6d5e8bc60_icgraph" alt=""/></div>
<map name="ad9/d55/UDT_8c_aae92fe5f07c0117e03229bb6d5e8bc60_icgraph" id="ad9/d55/UDT_8c_aae92fe5f07c0117e03229bb6d5e8bc60_icgraph">
<area shape="rect" title=" " alt="" coords="2772,140,2913,165"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#ad871f5aa0e74451c409c8b30ce75e384" title=" " alt="" coords="2617,115,2703,140"/>
<area shape="poly" title=" " alt="" coords="2758,144,2703,136,2704,131,2758,138"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#a654241f236fc531dc6e4751852e2ad4a" title=" " alt="" coords="2596,164,2724,189"/>
<area shape="poly" title=" " alt="" coords="2759,166,2725,171,2724,166,2758,161"/>
<area shape="rect" href="../../db/d47/Function_8c.html#ae5b265e5bcb93d99775286e38eb534e1" title=" " alt="" coords="2131,99,2300,153"/>
<area shape="poly" title=" " alt="" coords="2604,130,2300,129,2300,124,2604,125"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a7146fbf1c801b1839fb3772cc8c5f287" title=" " alt="" coords="1689,5,1815,31"/>
<area shape="poly" title=" " alt="" coords="2164,93,2125,71,2082,53,2012,35,1941,25,1815,19,1816,14,1941,20,2013,30,2084,47,2127,66,2167,89"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ac1df8c0fa25768dd0de490127eb894e6" title=" " alt="" coords="540,260,671,285"/>
<area shape="poly" title=" " alt="" coords="1675,31,1484,50,1370,58,1255,61,1030,61,963,67,898,86,836,112,778,144,726,178,681,211,622,262,618,258,678,207,723,174,775,139,833,107,896,81,962,62,1030,55,1255,55,1369,52,1484,45,1675,25"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a41964073f7e490c598598f219de9606e" title=" " alt="" coords="393,260,492,285"/>
<area shape="poly" title=" " alt="" coords="526,275,492,275,492,270,526,270"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a29e1a0b0688ac19dbde93824e4ae1a59" title=" " alt="" coords="228,87,300,112"/>
<area shape="poly" title=" " alt="" coords="429,248,397,186,373,153,344,125,322,114,299,107,301,102,324,109,347,121,377,150,402,183,434,246"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a9cbb2a371195bb22f404fd9910d1436e" title=" " alt="" coords="208,136,320,161"/>
<area shape="poly" title=" " alt="" coords="423,251,389,212,344,175,319,163,321,159,347,170,393,208,427,247"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a1277cef3aef64b77b88878cf83d5724a" title=" " alt="" coords="183,185,345,211"/>
<area shape="poly" title=" " alt="" coords="406,256,344,226,309,213,311,208,346,221,408,251"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a54ecef1f816b5662e19fac6f7ea3f8bb" title=" " alt="" coords="183,235,345,260"/>
<area shape="poly" title=" " alt="" coords="380,266,345,262,346,256,380,261"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#afd0a2e48ec1b9c86c5dd07ee5f734fa8" title=" " alt="" coords="183,284,345,309"/>
<area shape="poly" title=" " alt="" coords="380,284,346,288,345,283,380,278"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a3af9b4a4b0b466102f653080d2e7ad1f" title=" " alt="" coords="183,333,345,359"/>
<area shape="poly" title=" " alt="" coords="409,294,346,324,314,336,312,331,344,320,407,289"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a892bcd3e4f63977cc8b90e3e31974535" title=" " alt="" coords="198,383,330,408"/>
<area shape="poly" title=" " alt="" coords="426,299,392,337,347,374,322,385,320,380,344,369,388,333,422,295"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a65144c70313a704b5ba376ffe2e4fa10" title=" " alt="" coords="207,432,321,457"/>
<area shape="poly" title=" " alt="" coords="434,299,401,361,377,394,347,423,323,436,320,431,344,419,373,391,397,358,429,297"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a149f96da8ffb4412ebab795d11a9363f" title=" " alt="" coords="9,333,131,359"/>
<area shape="poly" title=" " alt="" coords="200,382,120,361,122,356,201,377"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#aff8517f9c34bbbf01ad9cb9f8b8fc825" title=" " alt="" coords="5,383,135,408"/>
<area shape="poly" title=" " alt="" coords="184,398,135,398,135,393,184,393"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ab0c4cd941202a415ffad7e744e8baf0c" title=" " alt="" coords="19,432,121,457"/>
<area shape="poly" title=" " alt="" coords="193,447,121,447,121,442,193,442"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#af5381c5b0b0a84097ce4a70339f67705" title=" " alt="" coords="15,481,125,507"/>
<area shape="poly" title=" " alt="" coords="201,463,122,484,120,479,200,458"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#acd6872ccab1abaa9786a72920a32122e" title=" " alt="" coords="2369,213,2527,239"/>
<area shape="poly" title=" " alt="" coords="2592,195,2504,216,2503,211,2591,190"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a8f6cc6234bdd9b98812a5ed72171b41f" title=" " alt="" coords="2348,164,2548,189"/>
<area shape="poly" title=" " alt="" coords="2582,179,2548,179,2548,174,2582,174"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#a8987191520260e0903f4f12aeaef9029" title=" " alt="" coords="2164,213,2267,239"/>
<area shape="poly" title=" " alt="" coords="2355,229,2267,229,2267,223,2355,223"/>
<area shape="poly" title=" " alt="" coords="2254,204,2243,195,2215,192,2192,194,2180,199,2178,204,2184,212,2180,215,2172,205,2176,195,2191,189,2215,187,2245,190,2257,199"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#a8b2adfe9fbb800c8206c93ecc428d492" title=" " alt="" coords="1931,384,2063,409"/>
<area shape="poly" title=" " alt="" coords="2190,250,2084,336,2018,386,2015,382,2081,332,2187,245"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#a81b8d7ae61921b88a7cd2174a9f4f315" title=" " alt="" coords="1916,509,2079,535"/>
<area shape="poly" title=" " alt="" coords="2201,252,2151,329,2085,424,2013,510,2009,507,2081,420,2147,326,2197,249"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#ae44751e9d256ab4657a0b6ce585f5212" title=" " alt="" coords="1944,148,2051,173"/>
<area shape="poly" title=" " alt="" coords="2158,212,2040,176,2041,171,2160,207"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a0d9705bd13cc0019fbc604a62d3d9df2" title=" " alt="" coords="1913,63,2082,117"/>
<area shape="poly" title=" " alt="" coords="2184,207,2081,138,2050,120,2053,115,2084,133,2187,203"/>
<area shape="rect" href="../../d7/d3e/Relation_8c.html#a839ad6d78f5757e0913140f60054d239" title=" " alt="" coords="1914,199,2081,253"/>
<area shape="poly" title=" " alt="" coords="2150,229,2081,229,2081,223,2150,223"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#a546e0e9b27a7bc9f94eaea1012b2bbb1" title=" " alt="" coords="1912,296,2083,321"/>
<area shape="poly" title=" " alt="" coords="2169,246,2033,298,2031,293,2167,241"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#a011864d5eae28703b5cc5e4959109f19" title=" " alt="" coords="1439,497,1538,523"/>
<area shape="poly" title=" " alt="" coords="1965,419,1919,444,1865,466,1776,487,1686,501,1539,512,1538,507,1686,496,1775,482,1863,461,1917,439,1963,414"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#a1303ff39e1cdff6f19c7670bd4ec8be7" title=" " alt="" coords="1201,448,1305,473"/>
<area shape="poly" title=" " alt="" coords="1425,500,1305,474,1306,469,1426,494"/>
<area shape="poly" title=" " alt="" coords="1187,458,1072,442,1006,430,941,414,849,384,761,348,630,288,633,283,763,343,851,379,942,409,1007,425,1072,437,1188,452"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#aff8b56773fa6193ae8bb9376bd3afd25" title=" " alt="" coords="1675,527,1829,552"/>
<area shape="poly" title=" " alt="" coords="1903,531,1830,537,1829,531,1902,526"/>
<area shape="poly" title=" " alt="" coords="1661,532,1538,518,1539,513,1661,527"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#a2778e4be551c7d0fa9554bba54a13baa" title=" " alt="" coords="1663,133,1841,188"/>
<area shape="poly" title=" " alt="" coords="1930,163,1841,163,1841,158,1930,158"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#a6389e86cbf9f74354e820baaff15982c" title=" " alt="" coords="1663,55,1841,109"/>
<area shape="poly" title=" " alt="" coords="1943,146,1837,112,1839,107,1944,141"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#aaaa4855fbf861e872df9bfb810cc101e" title=" " alt="" coords="1415,138,1562,178"/>
<area shape="poly" title=" " alt="" coords="1649,162,1562,161,1562,156,1649,157"/>
<area shape="rect" href="../../d9/db5/DualState_8c.html#a8d801b0a312cffe3bff0b46e7a5bb6e8" title=" " alt="" coords="719,260,893,285"/>
<area shape="poly" title=" " alt="" coords="1402,154,1306,152,1189,155,1064,169,1002,181,942,197,908,210,875,228,825,262,822,258,873,223,906,205,941,191,1001,175,1064,164,1189,150,1306,147,1402,149"/>
<area shape="poly" title=" " alt="" coords="705,275,671,275,671,270,705,270"/>
<area shape="poly" title=" " alt="" coords="1651,114,1560,141,1558,135,1649,109"/>
<area shape="poly" title=" " alt="" coords="1912,61,1863,45,1815,33,1816,27,1865,39,1914,55"/>
<area shape="rect" href="../../d7/d3e/Relation_8c.html#a417f173169e1a1f11b29b494d7d34612" title=" " alt="" coords="949,205,1114,231"/>
<area shape="poly" title=" " alt="" coords="1900,228,1114,221,1114,216,1900,223"/>
<area shape="poly" title=" " alt="" coords="966,236,860,263,858,257,965,231"/>
<area shape="rect" href="../../d0/ddd/Oid_8c.html#ae6f8b71f69b5d0638f5aef657dc67a16" title=" " alt="" coords="1673,396,1831,451"/>
<area shape="poly" title=" " alt="" coords="1966,331,1919,359,1865,387,1832,401,1830,396,1863,382,1917,354,1964,326"/>
<area shape="rect" href="../../df/df4/TupleDesc_8c.html#af939622dbe1e808a0c2eac99630fab60" title=" " alt="" coords="1661,317,1843,372"/>
<area shape="poly" title=" " alt="" coords="1899,326,1844,334,1843,329,1898,321"/>
<area shape="rect" href="../../df/df4/TupleDesc_8c.html#a9ccdcf8c074cfd34097e6a95f7d34815" title=" " alt="" coords="1640,268,1864,293"/>
<area shape="poly" title=" " alt="" coords="1898,300,1863,296,1864,291,1899,295"/>
<area shape="rect" href="../../d0/ddd/Oid_8c.html#a5250929ac42e2d6c9f4433312102b822" title=" " alt="" coords="1441,448,1537,473"/>
<area shape="poly" title=" " alt="" coords="1660,439,1537,457,1536,451,1659,434"/>
<area shape="poly" title=" " alt="" coords="1427,463,1306,463,1306,458,1427,458"/>
<area shape="rect" href="../../df/df4/TupleDesc_8c.html#a8cc68891ac2f6c575a6c0d95a5b28b84" title=" " alt="" coords="941,373,1121,399"/>
<area shape="poly" title=" " alt="" coords="1647,365,1592,373,1464,383,1336,389,1122,390,1122,385,1336,383,1464,378,1592,367,1647,360"/>
<area shape="poly" title=" " alt="" coords="978,371,940,355,876,320,825,288,828,283,879,315,942,350,980,366"/>
<area shape="rect" href="../../dd/dbc/SingleRowReader_8c.html#af42ece0157878da0404a440fe9551d0e" title=" " alt="" coords="1385,253,1592,308"/>
<area shape="poly" title=" " alt="" coords="1626,283,1592,283,1592,278,1626,278"/>
<area shape="rect" href="../../db/dad/Tuple_8c.html#a8d83236dd5812e7d7497976738a508f3" title=" " alt="" coords="1409,332,1568,357"/>
<area shape="poly" title=" " alt="" coords="1679,299,1641,309,1593,323,1547,335,1546,329,1591,318,1639,303,1678,294"/>
<area shape="rect" href="../../dd/dbc/SingleRowReader_8c.html#a32bb724881c2c4c62b37f7c5e7bd122d" title=" " alt="" coords="1169,253,1337,293"/>
<area shape="poly" title=" " alt="" coords="1372,279,1337,278,1338,273,1372,274"/>
<area shape="poly" title=" " alt="" coords="1155,275,893,275,893,270,1155,270"/>
<area shape="rect" href="../../db/dad/Tuple_8c.html#a7333d95832231a2075f1b1f20cb45875" title=" " alt="" coords="1178,317,1329,372"/>
<area shape="poly" title=" " alt="" coords="1396,347,1329,347,1329,342,1396,342"/>
<area shape="rect" href="../../db/dad/Tuple_8c.html#a801e0981f16603c770fd4dc2d57b7c7b" title=" " alt="" coords="957,315,1106,340"/>
<area shape="poly" title=" " alt="" coords="1164,340,1106,336,1106,330,1164,335"/>
<area shape="poly" title=" " alt="" coords="965,314,858,288,860,283,966,309"/>
<area shape="poly" title=" " alt="" coords="2374,163,2300,147,2301,142,2376,158"/>
<area shape="poly" title=" " alt="" coords="2375,195,2267,218,2266,213,2374,190"/>
</map>
</div>

</div>
</div>
<a id="a61bb0321fe8a0d118ec1c3f88dcf9484" name="a61bb0321fe8a0d118ec1c3f88dcf9484"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61bb0321fe8a0d118ec1c3f88dcf9484">&#9670;&#160;</a></span>coerceScalarDatum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static jobject coerceScalarDatum </td>
          <td>(</td>
          <td class="paramtype">UDT&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Datum&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d55/UDT_8c_source.html#l00065">65</a> of file <a class="el" href="../../d9/d55/UDT_8c_source.html">UDT.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   66</span>{</div>
<div class="line"><span class="lineno">   67</span>    jobject result;</div>
<div class="line"><span class="lineno">   68</span>    int32 dataLen = <a class="code hl_function" href="../../d3/dca/Type_8c.html#acfa5b9530c4a4af2868f71eb1a67e3cc">Type_getLength</a>((<a class="code hl_define" href="../../d0/ddd/Oid_8c.html#ae1f0ac82c78444bf9b69e7dbdd1d1983">Type</a>)self);</div>
<div class="line"><span class="lineno">   69</span>    <span class="keywordtype">bool</span> isJavaBasedScalar = 0 != self-&gt;parse;</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span>    <span class="keywordflow">if</span>(dataLen == -2)</div>
<div class="line"><span class="lineno">   72</span>    {</div>
<div class="line"><span class="lineno">   73</span>        <span class="comment">/* Data is a zero terminated string</span></div>
<div class="line"><span class="lineno">   74</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">   75</span>        jstring jstr = <a class="code hl_function" href="../../d4/db5/String_8c.html#acc0cac78b36dd9be338665bdfccb3186">String_createJavaStringFromNTS</a>(DatumGetCString(arg));</div>
<div class="line"><span class="lineno">   76</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">   77</span><span class="comment">         * ASSUMPTION 1 is in play here. &#39;arg&#39; here is a Datum holding this</span></div>
<div class="line"><span class="lineno">   78</span><span class="comment">         * UDT&#39;s internal representation, and will now be passed to &#39;parse&#39;, the</span></div>
<div class="line"><span class="lineno">   79</span><span class="comment">         * same method that is specified to parse a value from the human-used</span></div>
<div class="line"><span class="lineno">   80</span><span class="comment">         * external representation.</span></div>
<div class="line"><span class="lineno">   81</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">   82</span>        result = <a class="code hl_function" href="../../db/d47/Function_8c.html#adf3111dab5301d2d7b7b1719c25d7b40">pljava_Function_udtParseInvoke</a>(</div>
<div class="line"><span class="lineno">   83</span>            self-&gt;parse, jstr, self-&gt;sqlTypeName);</div>
<div class="line"><span class="lineno">   84</span>        <a class="code hl_function" href="../../d3/d5a/JNICalls_8c.html#a822cb8058a101ff1cc1f637440a83f16">JNI_deleteLocalRef</a>(jstr);</div>
<div class="line"><span class="lineno">   85</span>    }</div>
<div class="line"><span class="lineno">   86</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   87</span>    {</div>
<div class="line"><span class="lineno">   88</span>        <span class="keywordtype">char</span>* data;</div>
<div class="line"><span class="lineno">   89</span>        jobject inputStream;</div>
<div class="line"><span class="lineno">   90</span>        <span class="keywordflow">if</span>(dataLen == -1)</div>
<div class="line"><span class="lineno">   91</span>        {</div>
<div class="line"><span class="lineno">   92</span>            <span class="comment">/* Data is a varlena struct</span></div>
<div class="line"><span class="lineno">   93</span><span class="comment">            */</span></div>
<div class="line"><span class="lineno">   94</span>            bytea* bytes = DatumGetByteaP(arg);</div>
<div class="line"><span class="lineno">   95</span>            dataLen = VARSIZE(bytes) - VARHDRSZ;</div>
<div class="line"><span class="lineno">   96</span>            data    = VARDATA(bytes);</div>
<div class="line"><span class="lineno">   97</span>        }</div>
<div class="line"><span class="lineno">   98</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   99</span>        {</div>
<div class="line"><span class="lineno">  100</span>            <span class="keywordtype">bool</span> passByValue = <a class="code hl_function" href="../../d3/dca/Type_8c.html#ada31bf70992fae06a87eed87bbde98af">Type_isByValue</a>((<a class="code hl_define" href="../../d0/ddd/Oid_8c.html#ae1f0ac82c78444bf9b69e7dbdd1d1983">Type</a>)self);</div>
<div class="line"><span class="lineno">  101</span>            <span class="comment">/* Data is a binary chunk of size dataLen</span></div>
<div class="line"><span class="lineno">  102</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno">  103</span>            <span class="keywordflow">if</span> (passByValue)</div>
<div class="line"><span class="lineno">  104</span>            {</div>
<div class="line"><span class="lineno">  105</span>                <span class="comment">/* pass by value data is stored in the least</span></div>
<div class="line"><span class="lineno">  106</span><span class="comment">                 * significant bits of a Datum. */</span></div>
<div class="line"><span class="lineno">  107</span><span class="preprocessor">#ifdef WORDS_BIGENDIAN</span></div>
<div class="line"><span class="lineno">  108</span>                data = ((<span class="keywordtype">char</span> *)(&amp;arg)) + SIZEOF_DATUM - dataLen;</div>
<div class="line"><span class="lineno">  109</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  110</span>                data = ((<span class="keywordtype">char</span> *)(&amp;arg));</div>
<div class="line"><span class="lineno">  111</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  112</span>            }</div>
<div class="line"><span class="lineno">  113</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  114</span>            {</div>
<div class="line"><span class="lineno">  115</span>                data = DatumGetPointer(arg);</div>
<div class="line"><span class="lineno">  116</span>            }</div>
<div class="line"><span class="lineno">  117</span>        }</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>        inputStream = <a class="code hl_function" href="../../da/d91/SQLInputFromChunk_8c.html#a74f2f47abb4f2ba3ea25880f5497ea18">SQLInputFromChunk_create</a>(data, dataLen,</div>
<div class="line"><span class="lineno">  120</span>            isJavaBasedScalar);</div>
<div class="line"><span class="lineno">  121</span>        result = <a class="code hl_function" href="../../db/d47/Function_8c.html#a5e6828fb34c4388a90109467115f0744">pljava_Function_udtReadInvoke</a>(</div>
<div class="line"><span class="lineno">  122</span>            self-&gt;readSQL, inputStream, self-&gt;sqlTypeName);</div>
<div class="line"><span class="lineno">  123</span>        <a class="code hl_function" href="../../da/d91/SQLInputFromChunk_8c.html#affdc96e337b11fa40a263da1b30925ed">SQLInputFromChunk_close</a>(inputStream);</div>
<div class="line"><span class="lineno">  124</span>    }</div>
<div class="line"><span class="lineno">  125</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  126</span>}</div>
<div class="ttc" id="aFunction_8c_html_a5e6828fb34c4388a90109467115f0744"><div class="ttname"><a href="../../db/d47/Function_8c.html#a5e6828fb34c4388a90109467115f0744">pljava_Function_udtReadInvoke</a></div><div class="ttdeci">jobject pljava_Function_udtReadInvoke(jobject invocable, jobject stream, jstring typeName)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d47/Function_8c_source.html#l00515">Function.c:515</a></div></div>
<div class="ttc" id="aFunction_8c_html_adf3111dab5301d2d7b7b1719c25d7b40"><div class="ttname"><a href="../../db/d47/Function_8c.html#adf3111dab5301d2d7b7b1719c25d7b40">pljava_Function_udtParseInvoke</a></div><div class="ttdeci">jobject pljava_Function_udtParseInvoke(jobject parseInvocable, jstring stringRep, jstring typeName)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d47/Function_8c_source.html#l00522">Function.c:522</a></div></div>
<div class="ttc" id="aJNICalls_8c_html_a822cb8058a101ff1cc1f637440a83f16"><div class="ttname"><a href="../../d3/d5a/JNICalls_8c.html#a822cb8058a101ff1cc1f637440a83f16">JNI_deleteLocalRef</a></div><div class="ttdeci">void JNI_deleteLocalRef(jobject object)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d5a/JNICalls_8c_source.html#l00898">JNICalls.c:898</a></div></div>
<div class="ttc" id="aOid_8c_html_ae1f0ac82c78444bf9b69e7dbdd1d1983"><div class="ttname"><a href="../../d0/ddd/Oid_8c.html#ae1f0ac82c78444bf9b69e7dbdd1d1983">Type</a></div><div class="ttdeci">#define Type</div><div class="ttdef"><b>Definition</b> <a href="../../d0/ddd/Oid_8c_source.html#l00015">Oid.c:15</a></div></div>
<div class="ttc" id="aSQLInputFromChunk_8c_html_a74f2f47abb4f2ba3ea25880f5497ea18"><div class="ttname"><a href="../../da/d91/SQLInputFromChunk_8c.html#a74f2f47abb4f2ba3ea25880f5497ea18">SQLInputFromChunk_create</a></div><div class="ttdeci">jobject SQLInputFromChunk_create(void *data, size_t sz, bool isJavaBasedScalar)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d91/SQLInputFromChunk_8c_source.html#l00020">SQLInputFromChunk.c:20</a></div></div>
<div class="ttc" id="aSQLInputFromChunk_8c_html_affdc96e337b11fa40a263da1b30925ed"><div class="ttname"><a href="../../da/d91/SQLInputFromChunk_8c.html#affdc96e337b11fa40a263da1b30925ed">SQLInputFromChunk_close</a></div><div class="ttdeci">void SQLInputFromChunk_close(jobject stream)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d91/SQLInputFromChunk_8c_source.html#l00029">SQLInputFromChunk.c:29</a></div></div>
<div class="ttc" id="aString_8c_html_acc0cac78b36dd9be338665bdfccb3186"><div class="ttname"><a href="../../d4/db5/String_8c.html#acc0cac78b36dd9be338665bdfccb3186">String_createJavaStringFromNTS</a></div><div class="ttdeci">jstring String_createJavaStringFromNTS(const char *cp)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/db5/String_8c_source.html#l00159">String.c:159</a></div></div>
<div class="ttc" id="aType_8c_html_acfa5b9530c4a4af2868f71eb1a67e3cc"><div class="ttname"><a href="../../d3/dca/Type_8c.html#acfa5b9530c4a4af2868f71eb1a67e3cc">Type_getLength</a></div><div class="ttdeci">int16 Type_getLength(Type self)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/dca/Type_8c_source.html#l00354">Type.c:354</a></div></div>
<div class="ttc" id="aType_8c_html_ada31bf70992fae06a87eed87bbde98af"><div class="ttname"><a href="../../d3/dca/Type_8c.html#ada31bf70992fae06a87eed87bbde98af">Type_isByValue</a></div><div class="ttdeci">bool Type_isByValue(Type self)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/dca/Type_8c_source.html#l00359">Type.c:359</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d5a/JNICalls_8c_source.html#l00898">JNI_deleteLocalRef()</a>, <a class="el" href="../../db/d47/Function_8c_source.html#l00522">pljava_Function_udtParseInvoke()</a>, <a class="el" href="../../db/d47/Function_8c_source.html#l00515">pljava_Function_udtReadInvoke()</a>, <a class="el" href="../../da/d91/SQLInputFromChunk_8c_source.html#l00029">SQLInputFromChunk_close()</a>, <a class="el" href="../../da/d91/SQLInputFromChunk_8c_source.html#l00020">SQLInputFromChunk_create()</a>, <a class="el" href="../../d4/db5/String_8c_source.html#l00159">String_createJavaStringFromNTS()</a>, <a class="el" href="../../d0/ddd/Oid_8c_source.html#l00015">Type</a>, <a class="el" href="../../d3/dca/Type_8c_source.html#l00354">Type_getLength()</a>, and <a class="el" href="../../d3/dca/Type_8c_source.html#l00359">Type_isByValue()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d55/UDT_8c_source.html#l00230">_UDT_coerceDatum()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d55/UDT_8c_a61bb0321fe8a0d118ec1c3f88dcf9484_icgraph.png" border="0" usemap="#ad9/d55/UDT_8c_a61bb0321fe8a0d118ec1c3f88dcf9484_icgraph" alt=""/></div>
<map name="ad9/d55/UDT_8c_a61bb0321fe8a0d118ec1c3f88dcf9484_icgraph" id="ad9/d55/UDT_8c_a61bb0321fe8a0d118ec1c3f88dcf9484_icgraph">
<area shape="rect" title=" " alt="" coords="2963,140,3100,165"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#a1dfe1f0680c22cb13359e8477fae27e4" title=" " alt="" coords="2772,140,2915,165"/>
<area shape="poly" title=" " alt="" coords="2949,155,2915,155,2915,150,2949,150"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#aafa3e55ad7b3ada2875c9e5f25200e69" title=" " alt="" coords="2613,115,2707,140"/>
<area shape="poly" title=" " alt="" coords="2758,144,2706,136,2707,131,2759,138"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#a654241f236fc531dc6e4751852e2ad4a" title=" " alt="" coords="2596,164,2724,189"/>
<area shape="poly" title=" " alt="" coords="2759,166,2725,171,2724,166,2758,161"/>
<area shape="rect" href="../../db/d47/Function_8c.html#ae5b265e5bcb93d99775286e38eb534e1" title=" " alt="" coords="2131,99,2300,153"/>
<area shape="poly" title=" " alt="" coords="2599,130,2300,129,2300,124,2599,124"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a7146fbf1c801b1839fb3772cc8c5f287" title=" " alt="" coords="1689,5,1815,31"/>
<area shape="poly" title=" " alt="" coords="2164,93,2125,71,2082,53,2012,35,1941,25,1815,19,1816,14,1941,20,2013,30,2084,47,2127,66,2167,89"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ac1df8c0fa25768dd0de490127eb894e6" title=" " alt="" coords="540,260,671,285"/>
<area shape="poly" title=" " alt="" coords="1675,31,1484,50,1370,58,1255,61,1030,61,963,67,898,86,836,112,778,144,726,178,681,211,622,262,618,258,678,207,723,174,775,139,833,107,896,81,962,62,1030,55,1255,55,1369,52,1484,45,1675,25"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a41964073f7e490c598598f219de9606e" title=" " alt="" coords="393,260,492,285"/>
<area shape="poly" title=" " alt="" coords="526,275,492,275,492,270,526,270"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a29e1a0b0688ac19dbde93824e4ae1a59" title=" " alt="" coords="228,87,300,112"/>
<area shape="poly" title=" " alt="" coords="429,248,397,186,373,153,344,125,322,114,299,107,301,102,324,109,347,121,377,150,402,183,434,246"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a9cbb2a371195bb22f404fd9910d1436e" title=" " alt="" coords="208,136,320,161"/>
<area shape="poly" title=" " alt="" coords="423,251,389,212,344,175,319,163,321,159,347,170,393,208,427,247"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a1277cef3aef64b77b88878cf83d5724a" title=" " alt="" coords="183,185,345,211"/>
<area shape="poly" title=" " alt="" coords="406,256,344,226,309,213,311,208,346,221,408,251"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a54ecef1f816b5662e19fac6f7ea3f8bb" title=" " alt="" coords="183,235,345,260"/>
<area shape="poly" title=" " alt="" coords="380,266,345,262,346,256,380,261"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#afd0a2e48ec1b9c86c5dd07ee5f734fa8" title=" " alt="" coords="183,284,345,309"/>
<area shape="poly" title=" " alt="" coords="380,284,346,288,345,283,380,278"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a3af9b4a4b0b466102f653080d2e7ad1f" title=" " alt="" coords="183,333,345,359"/>
<area shape="poly" title=" " alt="" coords="409,294,346,324,314,336,312,331,344,320,407,289"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a892bcd3e4f63977cc8b90e3e31974535" title=" " alt="" coords="198,383,330,408"/>
<area shape="poly" title=" " alt="" coords="426,299,392,337,347,374,322,385,320,380,344,369,388,333,422,295"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a65144c70313a704b5ba376ffe2e4fa10" title=" " alt="" coords="207,432,321,457"/>
<area shape="poly" title=" " alt="" coords="434,299,401,361,377,394,347,423,323,436,320,431,344,419,373,391,397,358,429,297"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a149f96da8ffb4412ebab795d11a9363f" title=" " alt="" coords="9,333,131,359"/>
<area shape="poly" title=" " alt="" coords="200,382,120,361,122,356,201,377"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#aff8517f9c34bbbf01ad9cb9f8b8fc825" title=" " alt="" coords="5,383,135,408"/>
<area shape="poly" title=" " alt="" coords="184,398,135,398,135,393,184,393"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ab0c4cd941202a415ffad7e744e8baf0c" title=" " alt="" coords="19,432,121,457"/>
<area shape="poly" title=" " alt="" coords="193,447,121,447,121,442,193,442"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#af5381c5b0b0a84097ce4a70339f67705" title=" " alt="" coords="15,481,125,507"/>
<area shape="poly" title=" " alt="" coords="201,463,122,484,120,479,200,458"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#acd6872ccab1abaa9786a72920a32122e" title=" " alt="" coords="2369,213,2527,239"/>
<area shape="poly" title=" " alt="" coords="2592,195,2504,216,2503,211,2591,190"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a8f6cc6234bdd9b98812a5ed72171b41f" title=" " alt="" coords="2348,164,2548,189"/>
<area shape="poly" title=" " alt="" coords="2582,179,2548,179,2548,174,2582,174"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#a8987191520260e0903f4f12aeaef9029" title=" " alt="" coords="2164,213,2267,239"/>
<area shape="poly" title=" " alt="" coords="2355,229,2267,229,2267,223,2355,223"/>
<area shape="poly" title=" " alt="" coords="2254,204,2243,195,2215,192,2192,194,2180,199,2178,204,2184,212,2180,215,2172,205,2176,195,2191,189,2215,187,2245,190,2257,199"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#a8b2adfe9fbb800c8206c93ecc428d492" title=" " alt="" coords="1931,384,2063,409"/>
<area shape="poly" title=" " alt="" coords="2190,250,2084,336,2018,386,2015,382,2081,332,2187,245"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#a81b8d7ae61921b88a7cd2174a9f4f315" title=" " alt="" coords="1916,509,2079,535"/>
<area shape="poly" title=" " alt="" coords="2201,252,2151,329,2085,424,2013,510,2009,507,2081,420,2147,326,2197,249"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#ae44751e9d256ab4657a0b6ce585f5212" title=" " alt="" coords="1944,148,2051,173"/>
<area shape="poly" title=" " alt="" coords="2158,212,2040,176,2041,171,2160,207"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a0d9705bd13cc0019fbc604a62d3d9df2" title=" " alt="" coords="1913,63,2082,117"/>
<area shape="poly" title=" " alt="" coords="2184,207,2081,138,2050,120,2053,115,2084,133,2187,203"/>
<area shape="rect" href="../../d7/d3e/Relation_8c.html#a839ad6d78f5757e0913140f60054d239" title=" " alt="" coords="1914,199,2081,253"/>
<area shape="poly" title=" " alt="" coords="2150,229,2081,229,2081,223,2150,223"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#a546e0e9b27a7bc9f94eaea1012b2bbb1" title=" " alt="" coords="1912,296,2083,321"/>
<area shape="poly" title=" " alt="" coords="2169,246,2033,298,2031,293,2167,241"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#a011864d5eae28703b5cc5e4959109f19" title=" " alt="" coords="1439,497,1538,523"/>
<area shape="poly" title=" " alt="" coords="1965,419,1919,444,1865,466,1776,487,1686,501,1539,512,1538,507,1686,496,1775,482,1863,461,1917,439,1963,414"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#a1303ff39e1cdff6f19c7670bd4ec8be7" title=" " alt="" coords="1201,448,1305,473"/>
<area shape="poly" title=" " alt="" coords="1425,500,1305,474,1306,469,1426,494"/>
<area shape="poly" title=" " alt="" coords="1187,458,1072,442,1006,430,941,414,849,384,761,348,630,288,633,283,763,343,851,379,942,409,1007,425,1072,437,1188,452"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#aff8b56773fa6193ae8bb9376bd3afd25" title=" " alt="" coords="1675,527,1829,552"/>
<area shape="poly" title=" " alt="" coords="1903,531,1830,537,1829,531,1902,526"/>
<area shape="poly" title=" " alt="" coords="1661,532,1538,518,1539,513,1661,527"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#a2778e4be551c7d0fa9554bba54a13baa" title=" " alt="" coords="1663,133,1841,188"/>
<area shape="poly" title=" " alt="" coords="1930,163,1841,163,1841,158,1930,158"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#a6389e86cbf9f74354e820baaff15982c" title=" " alt="" coords="1663,55,1841,109"/>
<area shape="poly" title=" " alt="" coords="1943,146,1837,112,1839,107,1944,141"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#aaaa4855fbf861e872df9bfb810cc101e" title=" " alt="" coords="1415,138,1562,178"/>
<area shape="poly" title=" " alt="" coords="1649,162,1562,161,1562,156,1649,157"/>
<area shape="rect" href="../../d9/db5/DualState_8c.html#a8d801b0a312cffe3bff0b46e7a5bb6e8" title=" " alt="" coords="719,260,893,285"/>
<area shape="poly" title=" " alt="" coords="1402,154,1306,152,1189,155,1064,169,1002,181,942,197,908,210,875,228,825,262,822,258,873,223,906,205,941,191,1001,175,1064,164,1189,150,1306,147,1402,149"/>
<area shape="poly" title=" " alt="" coords="705,275,671,275,671,270,705,270"/>
<area shape="poly" title=" " alt="" coords="1651,114,1560,141,1558,135,1649,109"/>
<area shape="poly" title=" " alt="" coords="1912,61,1863,45,1815,33,1816,27,1865,39,1914,55"/>
<area shape="rect" href="../../d7/d3e/Relation_8c.html#a417f173169e1a1f11b29b494d7d34612" title=" " alt="" coords="949,205,1114,231"/>
<area shape="poly" title=" " alt="" coords="1900,228,1114,221,1114,216,1900,223"/>
<area shape="poly" title=" " alt="" coords="966,236,860,263,858,257,965,231"/>
<area shape="rect" href="../../d0/ddd/Oid_8c.html#ae6f8b71f69b5d0638f5aef657dc67a16" title=" " alt="" coords="1673,396,1831,451"/>
<area shape="poly" title=" " alt="" coords="1966,331,1919,359,1865,387,1832,401,1830,396,1863,382,1917,354,1964,326"/>
<area shape="rect" href="../../df/df4/TupleDesc_8c.html#af939622dbe1e808a0c2eac99630fab60" title=" " alt="" coords="1661,317,1843,372"/>
<area shape="poly" title=" " alt="" coords="1899,326,1844,334,1843,329,1898,321"/>
<area shape="rect" href="../../df/df4/TupleDesc_8c.html#a9ccdcf8c074cfd34097e6a95f7d34815" title=" " alt="" coords="1640,268,1864,293"/>
<area shape="poly" title=" " alt="" coords="1898,300,1863,296,1864,291,1899,295"/>
<area shape="rect" href="../../d0/ddd/Oid_8c.html#a5250929ac42e2d6c9f4433312102b822" title=" " alt="" coords="1441,448,1537,473"/>
<area shape="poly" title=" " alt="" coords="1660,439,1537,457,1536,451,1659,434"/>
<area shape="poly" title=" " alt="" coords="1427,463,1306,463,1306,458,1427,458"/>
<area shape="rect" href="../../df/df4/TupleDesc_8c.html#a8cc68891ac2f6c575a6c0d95a5b28b84" title=" " alt="" coords="941,373,1121,399"/>
<area shape="poly" title=" " alt="" coords="1647,365,1592,373,1464,383,1336,389,1122,390,1122,385,1336,383,1464,378,1592,367,1647,360"/>
<area shape="poly" title=" " alt="" coords="978,371,940,355,876,320,825,288,828,283,879,315,942,350,980,366"/>
<area shape="rect" href="../../dd/dbc/SingleRowReader_8c.html#af42ece0157878da0404a440fe9551d0e" title=" " alt="" coords="1385,253,1592,308"/>
<area shape="poly" title=" " alt="" coords="1626,283,1592,283,1592,278,1626,278"/>
<area shape="rect" href="../../db/dad/Tuple_8c.html#a8d83236dd5812e7d7497976738a508f3" title=" " alt="" coords="1409,332,1568,357"/>
<area shape="poly" title=" " alt="" coords="1679,299,1641,309,1593,323,1547,335,1546,329,1591,318,1639,303,1678,294"/>
<area shape="rect" href="../../dd/dbc/SingleRowReader_8c.html#a32bb724881c2c4c62b37f7c5e7bd122d" title=" " alt="" coords="1169,253,1337,293"/>
<area shape="poly" title=" " alt="" coords="1372,279,1337,278,1338,273,1372,274"/>
<area shape="poly" title=" " alt="" coords="1155,275,893,275,893,270,1155,270"/>
<area shape="rect" href="../../db/dad/Tuple_8c.html#a7333d95832231a2075f1b1f20cb45875" title=" " alt="" coords="1178,317,1329,372"/>
<area shape="poly" title=" " alt="" coords="1396,347,1329,347,1329,342,1396,342"/>
<area shape="rect" href="../../db/dad/Tuple_8c.html#a801e0981f16603c770fd4dc2d57b7c7b" title=" " alt="" coords="957,315,1106,340"/>
<area shape="poly" title=" " alt="" coords="1164,340,1106,336,1106,330,1164,335"/>
<area shape="poly" title=" " alt="" coords="965,314,858,288,860,283,966,309"/>
<area shape="poly" title=" " alt="" coords="2374,163,2300,147,2301,142,2376,158"/>
<area shape="poly" title=" " alt="" coords="2375,195,2267,218,2266,213,2374,190"/>
</map>
</div>

</div>
</div>
<a id="ae9091f4637c3def5aac3eb8013384ee7" name="ae9091f4637c3def5aac3eb8013384ee7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9091f4637c3def5aac3eb8013384ee7">&#9670;&#160;</a></span>coerceScalarObject()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static Datum coerceScalarObject </td>
          <td>(</td>
          <td class="paramtype">UDT&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d55/UDT_8c_source.html#l00139">139</a> of file <a class="el" href="../../d9/d55/UDT_8c_source.html">UDT.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  140</span>{</div>
<div class="line"><span class="lineno">  141</span>    Datum result;</div>
<div class="line"><span class="lineno">  142</span>    int32 dataLen = <a class="code hl_function" href="../../d3/dca/Type_8c.html#acfa5b9530c4a4af2868f71eb1a67e3cc">Type_getLength</a>((<a class="code hl_define" href="../../d0/ddd/Oid_8c.html#ae1f0ac82c78444bf9b69e7dbdd1d1983">Type</a>)self);</div>
<div class="line"><span class="lineno">  143</span>    <span class="keywordtype">bool</span> isJavaBasedScalar = 0 != self-&gt;parse;</div>
<div class="line"><span class="lineno">  144</span>    <span class="keywordflow">if</span>(dataLen == -2)</div>
<div class="line"><span class="lineno">  145</span>    {</div>
<div class="line"><span class="lineno">  146</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  147</span><span class="comment">         * ASSUMPTION 1 is in play here: the toString method, specified to</span></div>
<div class="line"><span class="lineno">  148</span><span class="comment">         * produce the human-used external representation, is being called here</span></div>
<div class="line"><span class="lineno">  149</span><span class="comment">         * to produce this UDT&#39;s internal representation.</span></div>
<div class="line"><span class="lineno">  150</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  151</span>        jstring jstr = <a class="code hl_function" href="../../db/d47/Function_8c.html#a214263b15ccb9b0359d8b2cff9d09982">pljava_Function_udtToStringInvoke</a>(self-&gt;toString, value);</div>
<div class="line"><span class="lineno">  152</span>        <span class="keywordtype">char</span>* tmp = <a class="code hl_function" href="../../d4/db5/String_8c.html#aba633e63b49b63ba233d30003e59663c">String_createNTS</a>(jstr);</div>
<div class="line"><span class="lineno">  153</span>        result = CStringGetDatum(tmp);</div>
<div class="line"><span class="lineno">  154</span>        <a class="code hl_function" href="../../d3/d5a/JNICalls_8c.html#a822cb8058a101ff1cc1f637440a83f16">JNI_deleteLocalRef</a>(jstr);</div>
<div class="line"><span class="lineno">  155</span>    }</div>
<div class="line"><span class="lineno">  156</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  157</span>    {</div>
<div class="line"><span class="lineno">  158</span>        jobject outputStream;</div>
<div class="line"><span class="lineno">  159</span>        StringInfoData buffer;</div>
<div class="line"><span class="lineno">  160</span>        <span class="keywordtype">bool</span> passByValue = <a class="code hl_function" href="../../d3/dca/Type_8c.html#ada31bf70992fae06a87eed87bbde98af">Type_isByValue</a>((<a class="code hl_define" href="../../d0/ddd/Oid_8c.html#ae1f0ac82c78444bf9b69e7dbdd1d1983">Type</a>)self);</div>
<div class="line"><span class="lineno">  161</span> </div>
<div class="line"><span class="lineno">  162</span>        MemoryContext currCtx = <a class="code hl_function" href="../../d5/dc4/Invocation_8c.html#a6e5879602a1bd70123795addc6428557">Invocation_switchToUpperContext</a>();</div>
<div class="line"><span class="lineno">  163</span>        initStringInfo(&amp;buffer);</div>
<div class="line"><span class="lineno">  164</span>        MemoryContextSwitchTo(currCtx); <span class="comment">/* buffer remembers its context */</span></div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="line"><span class="lineno">  166</span>        <span class="keywordflow">if</span>(dataLen &lt; 0)</div>
<div class="line"><span class="lineno">  167</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  168</span><span class="comment">             * Reserve space for an int32 at the beginning. We are building</span></div>
<div class="line"><span class="lineno">  169</span><span class="comment">             * a varlena</span></div>
<div class="line"><span class="lineno">  170</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno">  171</span>            appendBinaryStringInfo(&amp;buffer, (<span class="keywordtype">char</span>*)&amp;dataLen, <span class="keyword">sizeof</span>(int32));</div>
<div class="line"><span class="lineno">  172</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  173</span>            enlargeStringInfo(&amp;buffer, dataLen);</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>        outputStream = <a class="code hl_function" href="../../d9/d7a/SQLOutputToChunk_8c.html#a9162906654d1a3ea48c494f3fdf1a30f">SQLOutputToChunk_create</a>(&amp;buffer, isJavaBasedScalar);</div>
<div class="line"><span class="lineno">  176</span>        <a class="code hl_function" href="../../db/d47/Function_8c.html#a76e67c93b4357140e0b0bc6c94199928">pljava_Function_udtWriteInvoke</a>(self-&gt;writeSQL, value, outputStream);</div>
<div class="line"><span class="lineno">  177</span>        <a class="code hl_function" href="../../d9/d7a/SQLOutputToChunk_8c.html#a2debe6875fc51f398a81182e561ebb86">SQLOutputToChunk_close</a>(outputStream);</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>        <span class="keywordflow">if</span>(dataLen &lt; 0)</div>
<div class="line"><span class="lineno">  180</span>        {</div>
<div class="line"><span class="lineno">  181</span>            <span class="comment">/* Assign the correct length.</span></div>
<div class="line"><span class="lineno">  182</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno">  183</span>            SET_VARSIZE(buffer.data, buffer.len);</div>
<div class="line"><span class="lineno">  184</span>        }</div>
<div class="line"><span class="lineno">  185</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(dataLen != buffer.len)</div>
<div class="line"><span class="lineno">  186</span>        {</div>
<div class="line"><span class="lineno">  187</span>            ereport(ERROR, (</div>
<div class="line"><span class="lineno">  188</span>                errcode(ERRCODE_CANNOT_COERCE),</div>
<div class="line"><span class="lineno">  189</span>                errmsg(</div>
<div class="line"><span class="lineno">  190</span>                    <span class="stringliteral">&quot;UDT for Oid %d produced image with incorrect size. &quot;</span></div>
<div class="line"><span class="lineno">  191</span>                    <span class="stringliteral">&quot;Expected %d, was %d&quot;</span>,</div>
<div class="line"><span class="lineno">  192</span>                    <a class="code hl_function" href="../../d3/dca/Type_8c.html#af260fc8ada071ed08a4b22f75f0c2271">Type_getOid</a>((<a class="code hl_define" href="../../d0/ddd/Oid_8c.html#ae1f0ac82c78444bf9b69e7dbdd1d1983">Type</a>)self), dataLen, buffer.len)</div>
<div class="line"><span class="lineno">  193</span>                ));</div>
<div class="line"><span class="lineno">  194</span>        }</div>
<div class="line"><span class="lineno">  195</span>        <span class="keywordflow">if</span> (passByValue) {</div>
<div class="line"><span class="lineno">  196</span>            memset(&amp;result, 0, SIZEOF_DATUM);</div>
<div class="line"><span class="lineno">  197</span>            <span class="comment">/* pass by value data is stored in the least</span></div>
<div class="line"><span class="lineno">  198</span><span class="comment">             * significant bits of a Datum. */</span></div>
<div class="line"><span class="lineno">  199</span><span class="preprocessor">#ifdef WORDS_BIGENDIAN</span></div>
<div class="line"><span class="lineno">  200</span>            memcpy(&amp;result + SIZEOF_DATUM - dataLen, buffer.data, dataLen);</div>
<div class="line"><span class="lineno">  201</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  202</span>            memcpy(&amp;result, buffer.data, dataLen);</div>
<div class="line"><span class="lineno">  203</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  204</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  205</span>            result = PointerGetDatum(buffer.data);</div>
<div class="line"><span class="lineno">  206</span>        }</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>    }</div>
<div class="line"><span class="lineno">  209</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  210</span>}</div>
<div class="ttc" id="aFunction_8c_html_a214263b15ccb9b0359d8b2cff9d09982"><div class="ttname"><a href="../../db/d47/Function_8c.html#a214263b15ccb9b0359d8b2cff9d09982">pljava_Function_udtToStringInvoke</a></div><div class="ttdeci">jstring pljava_Function_udtToStringInvoke(jobject invocable, jobject value)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d47/Function_8c_source.html#l00509">Function.c:509</a></div></div>
<div class="ttc" id="aFunction_8c_html_a76e67c93b4357140e0b0bc6c94199928"><div class="ttname"><a href="../../db/d47/Function_8c.html#a76e67c93b4357140e0b0bc6c94199928">pljava_Function_udtWriteInvoke</a></div><div class="ttdeci">void pljava_Function_udtWriteInvoke(jobject invocable, jobject value, jobject stream)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d47/Function_8c_source.html#l00502">Function.c:502</a></div></div>
<div class="ttc" id="aInvocation_8c_html_a6e5879602a1bd70123795addc6428557"><div class="ttname"><a href="../../d5/dc4/Invocation_8c.html#a6e5879602a1bd70123795addc6428557">Invocation_switchToUpperContext</a></div><div class="ttdeci">MemoryContext Invocation_switchToUpperContext(void)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/dc4/Invocation_8c_source.html#l00248">Invocation.c:248</a></div></div>
<div class="ttc" id="aSQLOutputToChunk_8c_html_a2debe6875fc51f398a81182e561ebb86"><div class="ttname"><a href="../../d9/d7a/SQLOutputToChunk_8c.html#a2debe6875fc51f398a81182e561ebb86">SQLOutputToChunk_close</a></div><div class="ttdeci">void SQLOutputToChunk_close(jobject stream)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d7a/SQLOutputToChunk_8c_source.html#l00032">SQLOutputToChunk.c:32</a></div></div>
<div class="ttc" id="aSQLOutputToChunk_8c_html_a9162906654d1a3ea48c494f3fdf1a30f"><div class="ttname"><a href="../../d9/d7a/SQLOutputToChunk_8c.html#a9162906654d1a3ea48c494f3fdf1a30f">SQLOutputToChunk_create</a></div><div class="ttdeci">jobject SQLOutputToChunk_create(StringInfo data, bool isJavaBasedScalar)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d7a/SQLOutputToChunk_8c_source.html#l00019">SQLOutputToChunk.c:19</a></div></div>
<div class="ttc" id="aString_8c_html_aba633e63b49b63ba233d30003e59663c"><div class="ttname"><a href="../../d4/db5/String_8c.html#aba633e63b49b63ba233d30003e59663c">String_createNTS</a></div><div class="ttdeci">char * String_createNTS(jstring javaString)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/db5/String_8c_source.html#l00239">String.c:239</a></div></div>
<div class="ttc" id="aType_8c_html_af260fc8ada071ed08a4b22f75f0c2271"><div class="ttname"><a href="../../d3/dca/Type_8c.html#af260fc8ada071ed08a4b22f75f0c2271">Type_getOid</a></div><div class="ttdeci">Oid Type_getOid(Type self)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/dca/Type_8c_source.html#l00441">Type.c:441</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d5/dc4/Invocation_8c_source.html#l00248">Invocation_switchToUpperContext()</a>, <a class="el" href="../../d3/d5a/JNICalls_8c_source.html#l00898">JNI_deleteLocalRef()</a>, <a class="el" href="../../db/d47/Function_8c_source.html#l00509">pljava_Function_udtToStringInvoke()</a>, <a class="el" href="../../db/d47/Function_8c_source.html#l00502">pljava_Function_udtWriteInvoke()</a>, <a class="el" href="../../d9/d7a/SQLOutputToChunk_8c_source.html#l00032">SQLOutputToChunk_close()</a>, <a class="el" href="../../d9/d7a/SQLOutputToChunk_8c_source.html#l00019">SQLOutputToChunk_create()</a>, <a class="el" href="../../d4/db5/String_8c_source.html#l00239">String_createNTS()</a>, <a class="el" href="../../d0/ddd/Oid_8c_source.html#l00015">Type</a>, <a class="el" href="../../d3/dca/Type_8c_source.html#l00354">Type_getLength()</a>, <a class="el" href="../../d3/dca/Type_8c_source.html#l00441">Type_getOid()</a>, and <a class="el" href="../../d3/dca/Type_8c_source.html#l00359">Type_isByValue()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d55/UDT_8c_source.html#l00241">_UDT_coerceObject()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d55/UDT_8c_ae9091f4637c3def5aac3eb8013384ee7_icgraph.png" border="0" usemap="#ad9/d55/UDT_8c_ae9091f4637c3def5aac3eb8013384ee7_icgraph" alt=""/></div>
<map name="ad9/d55/UDT_8c_ae9091f4637c3def5aac3eb8013384ee7_icgraph" id="ad9/d55/UDT_8c_ae9091f4637c3def5aac3eb8013384ee7_icgraph">
<area shape="rect" title=" " alt="" coords="2961,140,3097,165"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#aae92fe5f07c0117e03229bb6d5e8bc60" title=" " alt="" coords="2772,140,2913,165"/>
<area shape="poly" title=" " alt="" coords="2947,155,2914,155,2914,150,2947,150"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#ad871f5aa0e74451c409c8b30ce75e384" title=" " alt="" coords="2617,115,2703,140"/>
<area shape="poly" title=" " alt="" coords="2758,144,2703,136,2704,131,2758,138"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#a654241f236fc531dc6e4751852e2ad4a" title=" " alt="" coords="2596,164,2724,189"/>
<area shape="poly" title=" " alt="" coords="2759,166,2725,171,2724,166,2758,161"/>
<area shape="rect" href="../../db/d47/Function_8c.html#ae5b265e5bcb93d99775286e38eb534e1" title=" " alt="" coords="2131,99,2300,153"/>
<area shape="poly" title=" " alt="" coords="2604,130,2300,129,2300,124,2604,125"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a7146fbf1c801b1839fb3772cc8c5f287" title=" " alt="" coords="1689,5,1815,31"/>
<area shape="poly" title=" " alt="" coords="2164,93,2125,71,2082,53,2012,35,1941,25,1815,19,1816,14,1941,20,2013,30,2084,47,2127,66,2167,89"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ac1df8c0fa25768dd0de490127eb894e6" title=" " alt="" coords="540,260,671,285"/>
<area shape="poly" title=" " alt="" coords="1675,31,1484,50,1370,58,1255,61,1030,61,963,67,898,86,836,112,778,144,726,178,681,211,622,262,618,258,678,207,723,174,775,139,833,107,896,81,962,62,1030,55,1255,55,1369,52,1484,45,1675,25"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a41964073f7e490c598598f219de9606e" title=" " alt="" coords="393,260,492,285"/>
<area shape="poly" title=" " alt="" coords="526,275,492,275,492,270,526,270"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a29e1a0b0688ac19dbde93824e4ae1a59" title=" " alt="" coords="228,87,300,112"/>
<area shape="poly" title=" " alt="" coords="429,248,397,186,373,153,344,125,322,114,299,107,301,102,324,109,347,121,377,150,402,183,434,246"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a9cbb2a371195bb22f404fd9910d1436e" title=" " alt="" coords="208,136,320,161"/>
<area shape="poly" title=" " alt="" coords="423,251,389,212,344,175,319,163,321,159,347,170,393,208,427,247"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a1277cef3aef64b77b88878cf83d5724a" title=" " alt="" coords="183,185,345,211"/>
<area shape="poly" title=" " alt="" coords="406,256,344,226,309,213,311,208,346,221,408,251"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a54ecef1f816b5662e19fac6f7ea3f8bb" title=" " alt="" coords="183,235,345,260"/>
<area shape="poly" title=" " alt="" coords="380,266,345,262,346,256,380,261"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#afd0a2e48ec1b9c86c5dd07ee5f734fa8" title=" " alt="" coords="183,284,345,309"/>
<area shape="poly" title=" " alt="" coords="380,284,346,288,345,283,380,278"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a3af9b4a4b0b466102f653080d2e7ad1f" title=" " alt="" coords="183,333,345,359"/>
<area shape="poly" title=" " alt="" coords="409,294,346,324,314,336,312,331,344,320,407,289"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a892bcd3e4f63977cc8b90e3e31974535" title=" " alt="" coords="198,383,330,408"/>
<area shape="poly" title=" " alt="" coords="426,299,392,337,347,374,322,385,320,380,344,369,388,333,422,295"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a65144c70313a704b5ba376ffe2e4fa10" title=" " alt="" coords="207,432,321,457"/>
<area shape="poly" title=" " alt="" coords="434,299,401,361,377,394,347,423,323,436,320,431,344,419,373,391,397,358,429,297"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a149f96da8ffb4412ebab795d11a9363f" title=" " alt="" coords="9,333,131,359"/>
<area shape="poly" title=" " alt="" coords="200,382,120,361,122,356,201,377"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#aff8517f9c34bbbf01ad9cb9f8b8fc825" title=" " alt="" coords="5,383,135,408"/>
<area shape="poly" title=" " alt="" coords="184,398,135,398,135,393,184,393"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ab0c4cd941202a415ffad7e744e8baf0c" title=" " alt="" coords="19,432,121,457"/>
<area shape="poly" title=" " alt="" coords="193,447,121,447,121,442,193,442"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#af5381c5b0b0a84097ce4a70339f67705" title=" " alt="" coords="15,481,125,507"/>
<area shape="poly" title=" " alt="" coords="201,463,122,484,120,479,200,458"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#acd6872ccab1abaa9786a72920a32122e" title=" " alt="" coords="2369,213,2527,239"/>
<area shape="poly" title=" " alt="" coords="2592,195,2504,216,2503,211,2591,190"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a8f6cc6234bdd9b98812a5ed72171b41f" title=" " alt="" coords="2348,164,2548,189"/>
<area shape="poly" title=" " alt="" coords="2582,179,2548,179,2548,174,2582,174"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#a8987191520260e0903f4f12aeaef9029" title=" " alt="" coords="2164,213,2267,239"/>
<area shape="poly" title=" " alt="" coords="2355,229,2267,229,2267,223,2355,223"/>
<area shape="poly" title=" " alt="" coords="2254,204,2243,195,2215,192,2192,194,2180,199,2178,204,2184,212,2180,215,2172,205,2176,195,2191,189,2215,187,2245,190,2257,199"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#a8b2adfe9fbb800c8206c93ecc428d492" title=" " alt="" coords="1931,384,2063,409"/>
<area shape="poly" title=" " alt="" coords="2190,250,2084,336,2018,386,2015,382,2081,332,2187,245"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#a81b8d7ae61921b88a7cd2174a9f4f315" title=" " alt="" coords="1916,509,2079,535"/>
<area shape="poly" title=" " alt="" coords="2201,252,2151,329,2085,424,2013,510,2009,507,2081,420,2147,326,2197,249"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#ae44751e9d256ab4657a0b6ce585f5212" title=" " alt="" coords="1944,148,2051,173"/>
<area shape="poly" title=" " alt="" coords="2158,212,2040,176,2041,171,2160,207"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a0d9705bd13cc0019fbc604a62d3d9df2" title=" " alt="" coords="1913,63,2082,117"/>
<area shape="poly" title=" " alt="" coords="2184,207,2081,138,2050,120,2053,115,2084,133,2187,203"/>
<area shape="rect" href="../../d7/d3e/Relation_8c.html#a839ad6d78f5757e0913140f60054d239" title=" " alt="" coords="1914,199,2081,253"/>
<area shape="poly" title=" " alt="" coords="2150,229,2081,229,2081,223,2150,223"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#a546e0e9b27a7bc9f94eaea1012b2bbb1" title=" " alt="" coords="1912,296,2083,321"/>
<area shape="poly" title=" " alt="" coords="2169,246,2033,298,2031,293,2167,241"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#a011864d5eae28703b5cc5e4959109f19" title=" " alt="" coords="1439,497,1538,523"/>
<area shape="poly" title=" " alt="" coords="1965,419,1919,444,1865,466,1776,487,1686,501,1539,512,1538,507,1686,496,1775,482,1863,461,1917,439,1963,414"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#a1303ff39e1cdff6f19c7670bd4ec8be7" title=" " alt="" coords="1201,448,1305,473"/>
<area shape="poly" title=" " alt="" coords="1425,500,1305,474,1306,469,1426,494"/>
<area shape="poly" title=" " alt="" coords="1187,458,1072,442,1006,430,941,414,849,384,761,348,630,288,633,283,763,343,851,379,942,409,1007,425,1072,437,1188,452"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#aff8b56773fa6193ae8bb9376bd3afd25" title=" " alt="" coords="1675,527,1829,552"/>
<area shape="poly" title=" " alt="" coords="1903,531,1830,537,1829,531,1902,526"/>
<area shape="poly" title=" " alt="" coords="1661,532,1538,518,1539,513,1661,527"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#a2778e4be551c7d0fa9554bba54a13baa" title=" " alt="" coords="1663,133,1841,188"/>
<area shape="poly" title=" " alt="" coords="1930,163,1841,163,1841,158,1930,158"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#a6389e86cbf9f74354e820baaff15982c" title=" " alt="" coords="1663,55,1841,109"/>
<area shape="poly" title=" " alt="" coords="1943,146,1837,112,1839,107,1944,141"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#aaaa4855fbf861e872df9bfb810cc101e" title=" " alt="" coords="1415,138,1562,178"/>
<area shape="poly" title=" " alt="" coords="1649,162,1562,161,1562,156,1649,157"/>
<area shape="rect" href="../../d9/db5/DualState_8c.html#a8d801b0a312cffe3bff0b46e7a5bb6e8" title=" " alt="" coords="719,260,893,285"/>
<area shape="poly" title=" " alt="" coords="1402,154,1306,152,1189,155,1064,169,1002,181,942,197,908,210,875,228,825,262,822,258,873,223,906,205,941,191,1001,175,1064,164,1189,150,1306,147,1402,149"/>
<area shape="poly" title=" " alt="" coords="705,275,671,275,671,270,705,270"/>
<area shape="poly" title=" " alt="" coords="1651,114,1560,141,1558,135,1649,109"/>
<area shape="poly" title=" " alt="" coords="1912,61,1863,45,1815,33,1816,27,1865,39,1914,55"/>
<area shape="rect" href="../../d7/d3e/Relation_8c.html#a417f173169e1a1f11b29b494d7d34612" title=" " alt="" coords="949,205,1114,231"/>
<area shape="poly" title=" " alt="" coords="1900,228,1114,221,1114,216,1900,223"/>
<area shape="poly" title=" " alt="" coords="966,236,860,263,858,257,965,231"/>
<area shape="rect" href="../../d0/ddd/Oid_8c.html#ae6f8b71f69b5d0638f5aef657dc67a16" title=" " alt="" coords="1673,396,1831,451"/>
<area shape="poly" title=" " alt="" coords="1966,331,1919,359,1865,387,1832,401,1830,396,1863,382,1917,354,1964,326"/>
<area shape="rect" href="../../df/df4/TupleDesc_8c.html#af939622dbe1e808a0c2eac99630fab60" title=" " alt="" coords="1661,317,1843,372"/>
<area shape="poly" title=" " alt="" coords="1899,326,1844,334,1843,329,1898,321"/>
<area shape="rect" href="../../df/df4/TupleDesc_8c.html#a9ccdcf8c074cfd34097e6a95f7d34815" title=" " alt="" coords="1640,268,1864,293"/>
<area shape="poly" title=" " alt="" coords="1898,300,1863,296,1864,291,1899,295"/>
<area shape="rect" href="../../d0/ddd/Oid_8c.html#a5250929ac42e2d6c9f4433312102b822" title=" " alt="" coords="1441,448,1537,473"/>
<area shape="poly" title=" " alt="" coords="1660,439,1537,457,1536,451,1659,434"/>
<area shape="poly" title=" " alt="" coords="1427,463,1306,463,1306,458,1427,458"/>
<area shape="rect" href="../../df/df4/TupleDesc_8c.html#a8cc68891ac2f6c575a6c0d95a5b28b84" title=" " alt="" coords="941,373,1121,399"/>
<area shape="poly" title=" " alt="" coords="1647,365,1592,373,1464,383,1336,389,1122,390,1122,385,1336,383,1464,378,1592,367,1647,360"/>
<area shape="poly" title=" " alt="" coords="978,371,940,355,876,320,825,288,828,283,879,315,942,350,980,366"/>
<area shape="rect" href="../../dd/dbc/SingleRowReader_8c.html#af42ece0157878da0404a440fe9551d0e" title=" " alt="" coords="1385,253,1592,308"/>
<area shape="poly" title=" " alt="" coords="1626,283,1592,283,1592,278,1626,278"/>
<area shape="rect" href="../../db/dad/Tuple_8c.html#a8d83236dd5812e7d7497976738a508f3" title=" " alt="" coords="1409,332,1568,357"/>
<area shape="poly" title=" " alt="" coords="1679,299,1641,309,1593,323,1547,335,1546,329,1591,318,1639,303,1678,294"/>
<area shape="rect" href="../../dd/dbc/SingleRowReader_8c.html#a32bb724881c2c4c62b37f7c5e7bd122d" title=" " alt="" coords="1169,253,1337,293"/>
<area shape="poly" title=" " alt="" coords="1372,279,1337,278,1338,273,1372,274"/>
<area shape="poly" title=" " alt="" coords="1155,275,893,275,893,270,1155,270"/>
<area shape="rect" href="../../db/dad/Tuple_8c.html#a7333d95832231a2075f1b1f20cb45875" title=" " alt="" coords="1178,317,1329,372"/>
<area shape="poly" title=" " alt="" coords="1396,347,1329,347,1329,342,1396,342"/>
<area shape="rect" href="../../db/dad/Tuple_8c.html#a801e0981f16603c770fd4dc2d57b7c7b" title=" " alt="" coords="957,315,1106,340"/>
<area shape="poly" title=" " alt="" coords="1164,340,1106,336,1106,330,1164,335"/>
<area shape="poly" title=" " alt="" coords="965,314,858,288,860,283,966,309"/>
<area shape="poly" title=" " alt="" coords="2374,163,2300,147,2301,142,2376,158"/>
<area shape="poly" title=" " alt="" coords="2375,195,2267,218,2266,213,2374,190"/>
</map>
</div>

</div>
</div>
<a id="a128481caca466bc7ab016e387bc00c43" name="a128481caca466bc7ab016e387bc00c43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a128481caca466bc7ab016e387bc00c43">&#9670;&#160;</a></span>coerceTupleDatum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static jobject coerceTupleDatum </td>
          <td>(</td>
          <td class="paramtype">UDT&#160;</td>
          <td class="paramname"><em>udt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Datum&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d55/UDT_8c_source.html#l00128">128</a> of file <a class="el" href="../../d9/d55/UDT_8c_source.html">UDT.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  129</span>{</div>
<div class="line"><span class="lineno">  130</span>    jobject result;</div>
<div class="line"><span class="lineno">  131</span>    jobject inputStream =</div>
<div class="line"><span class="lineno">  132</span>        <a class="code hl_function" href="../../de/d7f/SQLInputFromTuple_8c.html#a7b0f505083ff3962a879d712686c2953">pljava_SQLInputFromTuple_create</a>(DatumGetHeapTupleHeader(arg));</div>
<div class="line"><span class="lineno">  133</span>    result = <a class="code hl_function" href="../../db/d47/Function_8c.html#a5e6828fb34c4388a90109467115f0744">pljava_Function_udtReadInvoke</a>(</div>
<div class="line"><span class="lineno">  134</span>        udt-&gt;readSQL, inputStream, udt-&gt;sqlTypeName);</div>
<div class="line"><span class="lineno">  135</span>    <a class="code hl_function" href="../../d3/d5a/JNICalls_8c.html#a822cb8058a101ff1cc1f637440a83f16">JNI_deleteLocalRef</a>(inputStream);</div>
<div class="line"><span class="lineno">  136</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  137</span>}</div>
<div class="ttc" id="aSQLInputFromTuple_8c_html_a7b0f505083ff3962a879d712686c2953"><div class="ttname"><a href="../../de/d7f/SQLInputFromTuple_8c.html#a7b0f505083ff3962a879d712686c2953">pljava_SQLInputFromTuple_create</a></div><div class="ttdeci">jobject pljava_SQLInputFromTuple_create(HeapTupleHeader hth)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d7f/SQLInputFromTuple_8c_source.html#l00025">SQLInputFromTuple.c:25</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d5a/JNICalls_8c_source.html#l00898">JNI_deleteLocalRef()</a>, <a class="el" href="../../db/d47/Function_8c_source.html#l00515">pljava_Function_udtReadInvoke()</a>, and <a class="el" href="../../de/d7f/SQLInputFromTuple_8c_source.html#l00025">pljava_SQLInputFromTuple_create()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d55/UDT_8c_source.html#l00230">_UDT_coerceDatum()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d55/UDT_8c_a128481caca466bc7ab016e387bc00c43_icgraph.png" border="0" usemap="#ad9/d55/UDT_8c_a128481caca466bc7ab016e387bc00c43_icgraph" alt=""/></div>
<map name="ad9/d55/UDT_8c_a128481caca466bc7ab016e387bc00c43_icgraph" id="ad9/d55/UDT_8c_a128481caca466bc7ab016e387bc00c43_icgraph">
<area shape="rect" title=" " alt="" coords="2963,140,3095,165"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#a1dfe1f0680c22cb13359e8477fae27e4" title=" " alt="" coords="2772,140,2915,165"/>
<area shape="poly" title=" " alt="" coords="2949,155,2915,155,2915,150,2949,150"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#aafa3e55ad7b3ada2875c9e5f25200e69" title=" " alt="" coords="2613,115,2707,140"/>
<area shape="poly" title=" " alt="" coords="2758,144,2706,136,2707,131,2759,138"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#a654241f236fc531dc6e4751852e2ad4a" title=" " alt="" coords="2596,164,2724,189"/>
<area shape="poly" title=" " alt="" coords="2759,166,2725,171,2724,166,2758,161"/>
<area shape="rect" href="../../db/d47/Function_8c.html#ae5b265e5bcb93d99775286e38eb534e1" title=" " alt="" coords="2131,99,2300,153"/>
<area shape="poly" title=" " alt="" coords="2599,130,2300,129,2300,124,2599,124"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a7146fbf1c801b1839fb3772cc8c5f287" title=" " alt="" coords="1689,5,1815,31"/>
<area shape="poly" title=" " alt="" coords="2164,93,2125,71,2082,53,2012,35,1941,25,1815,19,1816,14,1941,20,2013,30,2084,47,2127,66,2167,89"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ac1df8c0fa25768dd0de490127eb894e6" title=" " alt="" coords="540,260,671,285"/>
<area shape="poly" title=" " alt="" coords="1675,31,1484,50,1370,58,1255,61,1030,61,963,67,898,86,836,112,778,144,726,178,681,211,622,262,618,258,678,207,723,174,775,139,833,107,896,81,962,62,1030,55,1255,55,1369,52,1484,45,1675,25"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a41964073f7e490c598598f219de9606e" title=" " alt="" coords="393,260,492,285"/>
<area shape="poly" title=" " alt="" coords="526,275,492,275,492,270,526,270"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a29e1a0b0688ac19dbde93824e4ae1a59" title=" " alt="" coords="228,87,300,112"/>
<area shape="poly" title=" " alt="" coords="429,248,397,186,373,153,344,125,322,114,299,107,301,102,324,109,347,121,377,150,402,183,434,246"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a9cbb2a371195bb22f404fd9910d1436e" title=" " alt="" coords="208,136,320,161"/>
<area shape="poly" title=" " alt="" coords="423,251,389,212,344,175,319,163,321,159,347,170,393,208,427,247"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a1277cef3aef64b77b88878cf83d5724a" title=" " alt="" coords="183,185,345,211"/>
<area shape="poly" title=" " alt="" coords="406,256,344,226,309,213,311,208,346,221,408,251"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a54ecef1f816b5662e19fac6f7ea3f8bb" title=" " alt="" coords="183,235,345,260"/>
<area shape="poly" title=" " alt="" coords="380,266,345,262,346,256,380,261"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#afd0a2e48ec1b9c86c5dd07ee5f734fa8" title=" " alt="" coords="183,284,345,309"/>
<area shape="poly" title=" " alt="" coords="380,284,346,288,345,283,380,278"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a3af9b4a4b0b466102f653080d2e7ad1f" title=" " alt="" coords="183,333,345,359"/>
<area shape="poly" title=" " alt="" coords="409,294,346,324,314,336,312,331,344,320,407,289"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a892bcd3e4f63977cc8b90e3e31974535" title=" " alt="" coords="198,383,330,408"/>
<area shape="poly" title=" " alt="" coords="426,299,392,337,347,374,322,385,320,380,344,369,388,333,422,295"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a65144c70313a704b5ba376ffe2e4fa10" title=" " alt="" coords="207,432,321,457"/>
<area shape="poly" title=" " alt="" coords="434,299,401,361,377,394,347,423,323,436,320,431,344,419,373,391,397,358,429,297"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a149f96da8ffb4412ebab795d11a9363f" title=" " alt="" coords="9,333,131,359"/>
<area shape="poly" title=" " alt="" coords="200,382,120,361,122,356,201,377"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#aff8517f9c34bbbf01ad9cb9f8b8fc825" title=" " alt="" coords="5,383,135,408"/>
<area shape="poly" title=" " alt="" coords="184,398,135,398,135,393,184,393"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ab0c4cd941202a415ffad7e744e8baf0c" title=" " alt="" coords="19,432,121,457"/>
<area shape="poly" title=" " alt="" coords="193,447,121,447,121,442,193,442"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#af5381c5b0b0a84097ce4a70339f67705" title=" " alt="" coords="15,481,125,507"/>
<area shape="poly" title=" " alt="" coords="201,463,122,484,120,479,200,458"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#acd6872ccab1abaa9786a72920a32122e" title=" " alt="" coords="2369,213,2527,239"/>
<area shape="poly" title=" " alt="" coords="2592,195,2504,216,2503,211,2591,190"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a8f6cc6234bdd9b98812a5ed72171b41f" title=" " alt="" coords="2348,164,2548,189"/>
<area shape="poly" title=" " alt="" coords="2582,179,2548,179,2548,174,2582,174"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#a8987191520260e0903f4f12aeaef9029" title=" " alt="" coords="2164,213,2267,239"/>
<area shape="poly" title=" " alt="" coords="2355,229,2267,229,2267,223,2355,223"/>
<area shape="poly" title=" " alt="" coords="2254,204,2243,195,2215,192,2192,194,2180,199,2178,204,2184,212,2180,215,2172,205,2176,195,2191,189,2215,187,2245,190,2257,199"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#a8b2adfe9fbb800c8206c93ecc428d492" title=" " alt="" coords="1931,384,2063,409"/>
<area shape="poly" title=" " alt="" coords="2190,250,2084,336,2018,386,2015,382,2081,332,2187,245"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#a81b8d7ae61921b88a7cd2174a9f4f315" title=" " alt="" coords="1916,509,2079,535"/>
<area shape="poly" title=" " alt="" coords="2201,252,2151,329,2085,424,2013,510,2009,507,2081,420,2147,326,2197,249"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#ae44751e9d256ab4657a0b6ce585f5212" title=" " alt="" coords="1944,148,2051,173"/>
<area shape="poly" title=" " alt="" coords="2158,212,2040,176,2041,171,2160,207"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a0d9705bd13cc0019fbc604a62d3d9df2" title=" " alt="" coords="1913,63,2082,117"/>
<area shape="poly" title=" " alt="" coords="2184,207,2081,138,2050,120,2053,115,2084,133,2187,203"/>
<area shape="rect" href="../../d7/d3e/Relation_8c.html#a839ad6d78f5757e0913140f60054d239" title=" " alt="" coords="1914,199,2081,253"/>
<area shape="poly" title=" " alt="" coords="2150,229,2081,229,2081,223,2150,223"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#a546e0e9b27a7bc9f94eaea1012b2bbb1" title=" " alt="" coords="1912,296,2083,321"/>
<area shape="poly" title=" " alt="" coords="2169,246,2033,298,2031,293,2167,241"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#a011864d5eae28703b5cc5e4959109f19" title=" " alt="" coords="1439,497,1538,523"/>
<area shape="poly" title=" " alt="" coords="1965,419,1919,444,1865,466,1776,487,1686,501,1539,512,1538,507,1686,496,1775,482,1863,461,1917,439,1963,414"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#a1303ff39e1cdff6f19c7670bd4ec8be7" title=" " alt="" coords="1201,448,1305,473"/>
<area shape="poly" title=" " alt="" coords="1425,500,1305,474,1306,469,1426,494"/>
<area shape="poly" title=" " alt="" coords="1187,458,1072,442,1006,430,941,414,849,384,761,348,630,288,633,283,763,343,851,379,942,409,1007,425,1072,437,1188,452"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#aff8b56773fa6193ae8bb9376bd3afd25" title=" " alt="" coords="1675,527,1829,552"/>
<area shape="poly" title=" " alt="" coords="1903,531,1830,537,1829,531,1902,526"/>
<area shape="poly" title=" " alt="" coords="1661,532,1538,518,1539,513,1661,527"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#a2778e4be551c7d0fa9554bba54a13baa" title=" " alt="" coords="1663,133,1841,188"/>
<area shape="poly" title=" " alt="" coords="1930,163,1841,163,1841,158,1930,158"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#a6389e86cbf9f74354e820baaff15982c" title=" " alt="" coords="1663,55,1841,109"/>
<area shape="poly" title=" " alt="" coords="1943,146,1837,112,1839,107,1944,141"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#aaaa4855fbf861e872df9bfb810cc101e" title=" " alt="" coords="1415,138,1562,178"/>
<area shape="poly" title=" " alt="" coords="1649,162,1562,161,1562,156,1649,157"/>
<area shape="rect" href="../../d9/db5/DualState_8c.html#a8d801b0a312cffe3bff0b46e7a5bb6e8" title=" " alt="" coords="719,260,893,285"/>
<area shape="poly" title=" " alt="" coords="1402,154,1306,152,1189,155,1064,169,1002,181,942,197,908,210,875,228,825,262,822,258,873,223,906,205,941,191,1001,175,1064,164,1189,150,1306,147,1402,149"/>
<area shape="poly" title=" " alt="" coords="705,275,671,275,671,270,705,270"/>
<area shape="poly" title=" " alt="" coords="1651,114,1560,141,1558,135,1649,109"/>
<area shape="poly" title=" " alt="" coords="1912,61,1863,45,1815,33,1816,27,1865,39,1914,55"/>
<area shape="rect" href="../../d7/d3e/Relation_8c.html#a417f173169e1a1f11b29b494d7d34612" title=" " alt="" coords="949,205,1114,231"/>
<area shape="poly" title=" " alt="" coords="1900,228,1114,221,1114,216,1900,223"/>
<area shape="poly" title=" " alt="" coords="966,236,860,263,858,257,965,231"/>
<area shape="rect" href="../../d0/ddd/Oid_8c.html#ae6f8b71f69b5d0638f5aef657dc67a16" title=" " alt="" coords="1673,396,1831,451"/>
<area shape="poly" title=" " alt="" coords="1966,331,1919,359,1865,387,1832,401,1830,396,1863,382,1917,354,1964,326"/>
<area shape="rect" href="../../df/df4/TupleDesc_8c.html#af939622dbe1e808a0c2eac99630fab60" title=" " alt="" coords="1661,317,1843,372"/>
<area shape="poly" title=" " alt="" coords="1899,326,1844,334,1843,329,1898,321"/>
<area shape="rect" href="../../df/df4/TupleDesc_8c.html#a9ccdcf8c074cfd34097e6a95f7d34815" title=" " alt="" coords="1640,268,1864,293"/>
<area shape="poly" title=" " alt="" coords="1898,300,1863,296,1864,291,1899,295"/>
<area shape="rect" href="../../d0/ddd/Oid_8c.html#a5250929ac42e2d6c9f4433312102b822" title=" " alt="" coords="1441,448,1537,473"/>
<area shape="poly" title=" " alt="" coords="1660,439,1537,457,1536,451,1659,434"/>
<area shape="poly" title=" " alt="" coords="1427,463,1306,463,1306,458,1427,458"/>
<area shape="rect" href="../../df/df4/TupleDesc_8c.html#a8cc68891ac2f6c575a6c0d95a5b28b84" title=" " alt="" coords="941,373,1121,399"/>
<area shape="poly" title=" " alt="" coords="1647,365,1592,373,1464,383,1336,389,1122,390,1122,385,1336,383,1464,378,1592,367,1647,360"/>
<area shape="poly" title=" " alt="" coords="978,371,940,355,876,320,825,288,828,283,879,315,942,350,980,366"/>
<area shape="rect" href="../../dd/dbc/SingleRowReader_8c.html#af42ece0157878da0404a440fe9551d0e" title=" " alt="" coords="1385,253,1592,308"/>
<area shape="poly" title=" " alt="" coords="1626,283,1592,283,1592,278,1626,278"/>
<area shape="rect" href="../../db/dad/Tuple_8c.html#a8d83236dd5812e7d7497976738a508f3" title=" " alt="" coords="1409,332,1568,357"/>
<area shape="poly" title=" " alt="" coords="1679,299,1641,309,1593,323,1547,335,1546,329,1591,318,1639,303,1678,294"/>
<area shape="rect" href="../../dd/dbc/SingleRowReader_8c.html#a32bb724881c2c4c62b37f7c5e7bd122d" title=" " alt="" coords="1169,253,1337,293"/>
<area shape="poly" title=" " alt="" coords="1372,279,1337,278,1338,273,1372,274"/>
<area shape="poly" title=" " alt="" coords="1155,275,893,275,893,270,1155,270"/>
<area shape="rect" href="../../db/dad/Tuple_8c.html#a7333d95832231a2075f1b1f20cb45875" title=" " alt="" coords="1178,317,1329,372"/>
<area shape="poly" title=" " alt="" coords="1396,347,1329,347,1329,342,1396,342"/>
<area shape="rect" href="../../db/dad/Tuple_8c.html#a801e0981f16603c770fd4dc2d57b7c7b" title=" " alt="" coords="957,315,1106,340"/>
<area shape="poly" title=" " alt="" coords="1164,340,1106,336,1106,330,1164,335"/>
<area shape="poly" title=" " alt="" coords="965,314,858,288,860,283,966,309"/>
<area shape="poly" title=" " alt="" coords="2374,163,2300,147,2301,142,2376,158"/>
<area shape="poly" title=" " alt="" coords="2375,195,2267,218,2266,213,2374,190"/>
</map>
</div>

</div>
</div>
<a id="a7dc289bfe80227cd42c4f8ff53c7f9a4" name="a7dc289bfe80227cd42c4f8ff53c7f9a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dc289bfe80227cd42c4f8ff53c7f9a4">&#9670;&#160;</a></span>coerceTupleObject()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static Datum coerceTupleObject </td>
          <td>(</td>
          <td class="paramtype">UDT&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d55/UDT_8c_source.html#l00212">212</a> of file <a class="el" href="../../d9/d55/UDT_8c_source.html">UDT.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  213</span>{</div>
<div class="line"><span class="lineno">  214</span>    Datum result = 0;</div>
<div class="line"><span class="lineno">  215</span>    <span class="keywordflow">if</span>(value != 0)</div>
<div class="line"><span class="lineno">  216</span>    {</div>
<div class="line"><span class="lineno">  217</span>        HeapTuple tuple;</div>
<div class="line"><span class="lineno">  218</span>        Oid typeId = ((<a class="code hl_define" href="../../d0/ddd/Oid_8c.html#ae1f0ac82c78444bf9b69e7dbdd1d1983">Type</a>)self)-&gt;typeId;</div>
<div class="line"><span class="lineno">  219</span>        TupleDesc tupleDesc = lookup_rowtype_tupdesc_noerror(typeId, -1, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  220</span>        jobject sqlOutput = <a class="code hl_function" href="../../df/d54/SQLOutputToTuple_8c.html#a9cc10b41dc89a6c341d22043d9dc598a">SQLOutputToTuple_create</a>(tupleDesc);</div>
<div class="line"><span class="lineno">  221</span>        ReleaseTupleDesc(tupleDesc);</div>
<div class="line"><span class="lineno">  222</span>        <a class="code hl_function" href="../../db/d47/Function_8c.html#a76e67c93b4357140e0b0bc6c94199928">pljava_Function_udtWriteInvoke</a>(self-&gt;writeSQL, value, sqlOutput);</div>
<div class="line"><span class="lineno">  223</span>        tuple = <a class="code hl_function" href="../../df/d54/SQLOutputToTuple_8c.html#a357c54d0aca27c719d632178c261f2cb">SQLOutputToTuple_getTuple</a>(sqlOutput);</div>
<div class="line"><span class="lineno">  224</span>        <span class="keywordflow">if</span>(tuple != 0)</div>
<div class="line"><span class="lineno">  225</span>            result = HeapTupleGetDatum(tuple);</div>
<div class="line"><span class="lineno">  226</span>    }</div>
<div class="line"><span class="lineno">  227</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  228</span>}</div>
<div class="ttc" id="aSQLOutputToTuple_8c_html_a357c54d0aca27c719d632178c261f2cb"><div class="ttname"><a href="../../df/d54/SQLOutputToTuple_8c.html#a357c54d0aca27c719d632178c261f2cb">SQLOutputToTuple_getTuple</a></div><div class="ttdeci">HeapTuple SQLOutputToTuple_getTuple(jobject sqlOutput)</div><div class="ttdef"><b>Definition</b> <a href="../../df/d54/SQLOutputToTuple_8c_source.html#l00032">SQLOutputToTuple.c:32</a></div></div>
<div class="ttc" id="aSQLOutputToTuple_8c_html_a9cc10b41dc89a6c341d22043d9dc598a"><div class="ttname"><a href="../../df/d54/SQLOutputToTuple_8c.html#a9cc10b41dc89a6c341d22043d9dc598a">SQLOutputToTuple_create</a></div><div class="ttdeci">jobject SQLOutputToTuple_create(TupleDesc td)</div><div class="ttdef"><b>Definition</b> <a href="../../df/d54/SQLOutputToTuple_8c_source.html#l00024">SQLOutputToTuple.c:24</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d47/Function_8c_source.html#l00502">pljava_Function_udtWriteInvoke()</a>, <a class="el" href="../../df/d54/SQLOutputToTuple_8c_source.html#l00024">SQLOutputToTuple_create()</a>, <a class="el" href="../../df/d54/SQLOutputToTuple_8c_source.html#l00032">SQLOutputToTuple_getTuple()</a>, and <a class="el" href="../../d0/ddd/Oid_8c_source.html#l00015">Type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d55/UDT_8c_source.html#l00241">_UDT_coerceObject()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d55/UDT_8c_a7dc289bfe80227cd42c4f8ff53c7f9a4_icgraph.png" border="0" usemap="#ad9/d55/UDT_8c_a7dc289bfe80227cd42c4f8ff53c7f9a4_icgraph" alt=""/></div>
<map name="ad9/d55/UDT_8c_a7dc289bfe80227cd42c4f8ff53c7f9a4_icgraph" id="ad9/d55/UDT_8c_a7dc289bfe80227cd42c4f8ff53c7f9a4_icgraph">
<area shape="rect" title=" " alt="" coords="2961,140,3092,165"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#aae92fe5f07c0117e03229bb6d5e8bc60" title=" " alt="" coords="2772,140,2913,165"/>
<area shape="poly" title=" " alt="" coords="2947,155,2914,155,2914,150,2947,150"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#ad871f5aa0e74451c409c8b30ce75e384" title=" " alt="" coords="2617,115,2703,140"/>
<area shape="poly" title=" " alt="" coords="2758,144,2703,136,2704,131,2758,138"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#a654241f236fc531dc6e4751852e2ad4a" title=" " alt="" coords="2596,164,2724,189"/>
<area shape="poly" title=" " alt="" coords="2759,166,2725,171,2724,166,2758,161"/>
<area shape="rect" href="../../db/d47/Function_8c.html#ae5b265e5bcb93d99775286e38eb534e1" title=" " alt="" coords="2131,99,2300,153"/>
<area shape="poly" title=" " alt="" coords="2604,130,2300,129,2300,124,2604,125"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a7146fbf1c801b1839fb3772cc8c5f287" title=" " alt="" coords="1689,5,1815,31"/>
<area shape="poly" title=" " alt="" coords="2164,93,2125,71,2082,53,2012,35,1941,25,1815,19,1816,14,1941,20,2013,30,2084,47,2127,66,2167,89"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ac1df8c0fa25768dd0de490127eb894e6" title=" " alt="" coords="540,260,671,285"/>
<area shape="poly" title=" " alt="" coords="1675,31,1484,50,1370,58,1255,61,1030,61,963,67,898,86,836,112,778,144,726,178,681,211,622,262,618,258,678,207,723,174,775,139,833,107,896,81,962,62,1030,55,1255,55,1369,52,1484,45,1675,25"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a41964073f7e490c598598f219de9606e" title=" " alt="" coords="393,260,492,285"/>
<area shape="poly" title=" " alt="" coords="526,275,492,275,492,270,526,270"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a29e1a0b0688ac19dbde93824e4ae1a59" title=" " alt="" coords="228,87,300,112"/>
<area shape="poly" title=" " alt="" coords="429,248,397,186,373,153,344,125,322,114,299,107,301,102,324,109,347,121,377,150,402,183,434,246"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a9cbb2a371195bb22f404fd9910d1436e" title=" " alt="" coords="208,136,320,161"/>
<area shape="poly" title=" " alt="" coords="423,251,389,212,344,175,319,163,321,159,347,170,393,208,427,247"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a1277cef3aef64b77b88878cf83d5724a" title=" " alt="" coords="183,185,345,211"/>
<area shape="poly" title=" " alt="" coords="406,256,344,226,309,213,311,208,346,221,408,251"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a54ecef1f816b5662e19fac6f7ea3f8bb" title=" " alt="" coords="183,235,345,260"/>
<area shape="poly" title=" " alt="" coords="380,266,345,262,346,256,380,261"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#afd0a2e48ec1b9c86c5dd07ee5f734fa8" title=" " alt="" coords="183,284,345,309"/>
<area shape="poly" title=" " alt="" coords="380,284,346,288,345,283,380,278"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a3af9b4a4b0b466102f653080d2e7ad1f" title=" " alt="" coords="183,333,345,359"/>
<area shape="poly" title=" " alt="" coords="409,294,346,324,314,336,312,331,344,320,407,289"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a892bcd3e4f63977cc8b90e3e31974535" title=" " alt="" coords="198,383,330,408"/>
<area shape="poly" title=" " alt="" coords="426,299,392,337,347,374,322,385,320,380,344,369,388,333,422,295"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a65144c70313a704b5ba376ffe2e4fa10" title=" " alt="" coords="207,432,321,457"/>
<area shape="poly" title=" " alt="" coords="434,299,401,361,377,394,347,423,323,436,320,431,344,419,373,391,397,358,429,297"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a149f96da8ffb4412ebab795d11a9363f" title=" " alt="" coords="9,333,131,359"/>
<area shape="poly" title=" " alt="" coords="200,382,120,361,122,356,201,377"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#aff8517f9c34bbbf01ad9cb9f8b8fc825" title=" " alt="" coords="5,383,135,408"/>
<area shape="poly" title=" " alt="" coords="184,398,135,398,135,393,184,393"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ab0c4cd941202a415ffad7e744e8baf0c" title=" " alt="" coords="19,432,121,457"/>
<area shape="poly" title=" " alt="" coords="193,447,121,447,121,442,193,442"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#af5381c5b0b0a84097ce4a70339f67705" title=" " alt="" coords="15,481,125,507"/>
<area shape="poly" title=" " alt="" coords="201,463,122,484,120,479,200,458"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#acd6872ccab1abaa9786a72920a32122e" title=" " alt="" coords="2369,213,2527,239"/>
<area shape="poly" title=" " alt="" coords="2592,195,2504,216,2503,211,2591,190"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a8f6cc6234bdd9b98812a5ed72171b41f" title=" " alt="" coords="2348,164,2548,189"/>
<area shape="poly" title=" " alt="" coords="2582,179,2548,179,2548,174,2582,174"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#a8987191520260e0903f4f12aeaef9029" title=" " alt="" coords="2164,213,2267,239"/>
<area shape="poly" title=" " alt="" coords="2355,229,2267,229,2267,223,2355,223"/>
<area shape="poly" title=" " alt="" coords="2254,204,2243,195,2215,192,2192,194,2180,199,2178,204,2184,212,2180,215,2172,205,2176,195,2191,189,2215,187,2245,190,2257,199"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#a8b2adfe9fbb800c8206c93ecc428d492" title=" " alt="" coords="1931,384,2063,409"/>
<area shape="poly" title=" " alt="" coords="2190,250,2084,336,2018,386,2015,382,2081,332,2187,245"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#a81b8d7ae61921b88a7cd2174a9f4f315" title=" " alt="" coords="1916,509,2079,535"/>
<area shape="poly" title=" " alt="" coords="2201,252,2151,329,2085,424,2013,510,2009,507,2081,420,2147,326,2197,249"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#ae44751e9d256ab4657a0b6ce585f5212" title=" " alt="" coords="1944,148,2051,173"/>
<area shape="poly" title=" " alt="" coords="2158,212,2040,176,2041,171,2160,207"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a0d9705bd13cc0019fbc604a62d3d9df2" title=" " alt="" coords="1913,63,2082,117"/>
<area shape="poly" title=" " alt="" coords="2184,207,2081,138,2050,120,2053,115,2084,133,2187,203"/>
<area shape="rect" href="../../d7/d3e/Relation_8c.html#a839ad6d78f5757e0913140f60054d239" title=" " alt="" coords="1914,199,2081,253"/>
<area shape="poly" title=" " alt="" coords="2150,229,2081,229,2081,223,2150,223"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#a546e0e9b27a7bc9f94eaea1012b2bbb1" title=" " alt="" coords="1912,296,2083,321"/>
<area shape="poly" title=" " alt="" coords="2169,246,2033,298,2031,293,2167,241"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#a011864d5eae28703b5cc5e4959109f19" title=" " alt="" coords="1439,497,1538,523"/>
<area shape="poly" title=" " alt="" coords="1965,419,1919,444,1865,466,1776,487,1686,501,1539,512,1538,507,1686,496,1775,482,1863,461,1917,439,1963,414"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#a1303ff39e1cdff6f19c7670bd4ec8be7" title=" " alt="" coords="1201,448,1305,473"/>
<area shape="poly" title=" " alt="" coords="1425,500,1305,474,1306,469,1426,494"/>
<area shape="poly" title=" " alt="" coords="1187,458,1072,442,1006,430,941,414,849,384,761,348,630,288,633,283,763,343,851,379,942,409,1007,425,1072,437,1188,452"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#aff8b56773fa6193ae8bb9376bd3afd25" title=" " alt="" coords="1675,527,1829,552"/>
<area shape="poly" title=" " alt="" coords="1903,531,1830,537,1829,531,1902,526"/>
<area shape="poly" title=" " alt="" coords="1661,532,1538,518,1539,513,1661,527"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#a2778e4be551c7d0fa9554bba54a13baa" title=" " alt="" coords="1663,133,1841,188"/>
<area shape="poly" title=" " alt="" coords="1930,163,1841,163,1841,158,1930,158"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#a6389e86cbf9f74354e820baaff15982c" title=" " alt="" coords="1663,55,1841,109"/>
<area shape="poly" title=" " alt="" coords="1943,146,1837,112,1839,107,1944,141"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#aaaa4855fbf861e872df9bfb810cc101e" title=" " alt="" coords="1415,138,1562,178"/>
<area shape="poly" title=" " alt="" coords="1649,162,1562,161,1562,156,1649,157"/>
<area shape="rect" href="../../d9/db5/DualState_8c.html#a8d801b0a312cffe3bff0b46e7a5bb6e8" title=" " alt="" coords="719,260,893,285"/>
<area shape="poly" title=" " alt="" coords="1402,154,1306,152,1189,155,1064,169,1002,181,942,197,908,210,875,228,825,262,822,258,873,223,906,205,941,191,1001,175,1064,164,1189,150,1306,147,1402,149"/>
<area shape="poly" title=" " alt="" coords="705,275,671,275,671,270,705,270"/>
<area shape="poly" title=" " alt="" coords="1651,114,1560,141,1558,135,1649,109"/>
<area shape="poly" title=" " alt="" coords="1912,61,1863,45,1815,33,1816,27,1865,39,1914,55"/>
<area shape="rect" href="../../d7/d3e/Relation_8c.html#a417f173169e1a1f11b29b494d7d34612" title=" " alt="" coords="949,205,1114,231"/>
<area shape="poly" title=" " alt="" coords="1900,228,1114,221,1114,216,1900,223"/>
<area shape="poly" title=" " alt="" coords="966,236,860,263,858,257,965,231"/>
<area shape="rect" href="../../d0/ddd/Oid_8c.html#ae6f8b71f69b5d0638f5aef657dc67a16" title=" " alt="" coords="1673,396,1831,451"/>
<area shape="poly" title=" " alt="" coords="1966,331,1919,359,1865,387,1832,401,1830,396,1863,382,1917,354,1964,326"/>
<area shape="rect" href="../../df/df4/TupleDesc_8c.html#af939622dbe1e808a0c2eac99630fab60" title=" " alt="" coords="1661,317,1843,372"/>
<area shape="poly" title=" " alt="" coords="1899,326,1844,334,1843,329,1898,321"/>
<area shape="rect" href="../../df/df4/TupleDesc_8c.html#a9ccdcf8c074cfd34097e6a95f7d34815" title=" " alt="" coords="1640,268,1864,293"/>
<area shape="poly" title=" " alt="" coords="1898,300,1863,296,1864,291,1899,295"/>
<area shape="rect" href="../../d0/ddd/Oid_8c.html#a5250929ac42e2d6c9f4433312102b822" title=" " alt="" coords="1441,448,1537,473"/>
<area shape="poly" title=" " alt="" coords="1660,439,1537,457,1536,451,1659,434"/>
<area shape="poly" title=" " alt="" coords="1427,463,1306,463,1306,458,1427,458"/>
<area shape="rect" href="../../df/df4/TupleDesc_8c.html#a8cc68891ac2f6c575a6c0d95a5b28b84" title=" " alt="" coords="941,373,1121,399"/>
<area shape="poly" title=" " alt="" coords="1647,365,1592,373,1464,383,1336,389,1122,390,1122,385,1336,383,1464,378,1592,367,1647,360"/>
<area shape="poly" title=" " alt="" coords="978,371,940,355,876,320,825,288,828,283,879,315,942,350,980,366"/>
<area shape="rect" href="../../dd/dbc/SingleRowReader_8c.html#af42ece0157878da0404a440fe9551d0e" title=" " alt="" coords="1385,253,1592,308"/>
<area shape="poly" title=" " alt="" coords="1626,283,1592,283,1592,278,1626,278"/>
<area shape="rect" href="../../db/dad/Tuple_8c.html#a8d83236dd5812e7d7497976738a508f3" title=" " alt="" coords="1409,332,1568,357"/>
<area shape="poly" title=" " alt="" coords="1679,299,1641,309,1593,323,1547,335,1546,329,1591,318,1639,303,1678,294"/>
<area shape="rect" href="../../dd/dbc/SingleRowReader_8c.html#a32bb724881c2c4c62b37f7c5e7bd122d" title=" " alt="" coords="1169,253,1337,293"/>
<area shape="poly" title=" " alt="" coords="1372,279,1337,278,1338,273,1372,274"/>
<area shape="poly" title=" " alt="" coords="1155,275,893,275,893,270,1155,270"/>
<area shape="rect" href="../../db/dad/Tuple_8c.html#a7333d95832231a2075f1b1f20cb45875" title=" " alt="" coords="1178,317,1329,372"/>
<area shape="poly" title=" " alt="" coords="1396,347,1329,347,1329,342,1396,342"/>
<area shape="rect" href="../../db/dad/Tuple_8c.html#a801e0981f16603c770fd4dc2d57b7c7b" title=" " alt="" coords="957,315,1106,340"/>
<area shape="poly" title=" " alt="" coords="1164,340,1106,336,1106,330,1164,335"/>
<area shape="poly" title=" " alt="" coords="965,314,858,288,860,283,966,309"/>
<area shape="poly" title=" " alt="" coords="2374,163,2300,147,2301,142,2376,158"/>
<area shape="poly" title=" " alt="" coords="2375,195,2267,218,2266,213,2374,190"/>
</map>
</div>

</div>
</div>
<a id="abdfb0dc3dd48fc509e511cb3b63c2d23" name="abdfb0dc3dd48fc509e511cb3b63c2d23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdfb0dc3dd48fc509e511cb3b63c2d23">&#9670;&#160;</a></span>noTypmodYet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void noTypmodYet </td>
          <td>(</td>
          <td class="paramtype">UDT&#160;</td>
          <td class="paramname"><em>udt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PG_FUNCTION_ARGS&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d55/UDT_8c_source.html#l00260">260</a> of file <a class="el" href="../../d9/d55/UDT_8c_source.html">UDT.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  261</span>{</div>
<div class="line"><span class="lineno">  262</span>    Oid toid;</div>
<div class="line"><span class="lineno">  263</span>    <span class="keywordtype">int</span> mod;</div>
<div class="line"><span class="lineno">  264</span> </div>
<div class="line"><span class="lineno">  265</span>    <span class="keywordflow">if</span> ( 3 &gt; PG_NARGS() )</div>
<div class="line"><span class="lineno">  266</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span>    toid = PG_GETARG_OID(1);</div>
<div class="line"><span class="lineno">  269</span>    mod  = PG_GETARG_INT32(2);</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>    <span class="keywordflow">if</span> ( -1 != mod )</div>
<div class="line"><span class="lineno">  272</span>        ereport(ERROR, (</div>
<div class="line"><span class="lineno">  273</span>            errcode(ERRCODE_FEATURE_NOT_SUPPORTED),</div>
<div class="line"><span class="lineno">  274</span>            errmsg(</div>
<div class="line"><span class="lineno">  275</span>                <span class="stringliteral">&quot;PL/Java UDT with non-default type modifier not yet supported&quot;</span>)</div>
<div class="line"><span class="lineno">  276</span>            ));</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>    <span class="keywordflow">if</span> ( <a class="code hl_function" href="../../d3/dca/Type_8c.html#af260fc8ada071ed08a4b22f75f0c2271">Type_getOid</a>((<a class="code hl_define" href="../../d0/ddd/Oid_8c.html#ae1f0ac82c78444bf9b69e7dbdd1d1983">Type</a>)udt) != toid )</div>
<div class="line"><span class="lineno">  279</span>        ereport(ERROR, (</div>
<div class="line"><span class="lineno">  280</span>            errcode(ERRCODE_INTERNAL_ERROR),</div>
<div class="line"><span class="lineno">  281</span>            errmsg(<span class="stringliteral">&quot;Unexpected type Oid %d passed to PL/Java UDT&quot;</span>, toid)));</div>
<div class="line"><span class="lineno">  282</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/ddd/Oid_8c_source.html#l00015">Type</a>, and <a class="el" href="../../d3/dca/Type_8c_source.html#l00441">Type_getOid()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d55/UDT_8c_source.html#l00284">UDT_input()</a>, and <a class="el" href="../../d9/d55/UDT_8c_source.html#l00366">UDT_receive()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d55/UDT_8c_abdfb0dc3dd48fc509e511cb3b63c2d23_icgraph.png" border="0" usemap="#ad9/d55/UDT_8c_abdfb0dc3dd48fc509e511cb3b63c2d23_icgraph" alt=""/></div>
<map name="ad9/d55/UDT_8c_abdfb0dc3dd48fc509e511cb3b63c2d23_icgraph" id="ad9/d55/UDT_8c_abdfb0dc3dd48fc509e511cb3b63c2d23_icgraph">
<area shape="rect" title=" " alt="" coords="1257,179,1359,204"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#ad871f5aa0e74451c409c8b30ce75e384" title=" " alt="" coords="1117,153,1203,179"/>
<area shape="poly" title=" " alt="" coords="1243,183,1203,176,1203,171,1244,178"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#a4bb62f32e51b87dc9b80f7a31ce964c8" title=" " alt="" coords="1111,203,1209,228"/>
<area shape="poly" title=" " alt="" coords="1244,204,1210,210,1209,205,1243,199"/>
<area shape="rect" href="../../db/d47/Function_8c.html#ae5b265e5bcb93d99775286e38eb534e1" title=" " alt="" coords="893,164,1063,219"/>
<area shape="poly" title=" " alt="" coords="1104,176,1063,182,1062,177,1103,171"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a7146fbf1c801b1839fb3772cc8c5f287" title=" " alt="" coords="719,179,845,204"/>
<area shape="poly" title=" " alt="" coords="879,194,846,194,846,189,879,189"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ac1df8c0fa25768dd0de490127eb894e6" title=" " alt="" coords="540,179,671,204"/>
<area shape="poly" title=" " alt="" coords="705,194,671,194,671,189,705,189"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a41964073f7e490c598598f219de9606e" title=" " alt="" coords="393,179,492,204"/>
<area shape="poly" title=" " alt="" coords="526,194,492,194,492,189,526,189"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a29e1a0b0688ac19dbde93824e4ae1a59" title=" " alt="" coords="228,5,300,31"/>
<area shape="poly" title=" " alt="" coords="429,167,397,105,373,72,344,44,322,32,299,25,301,20,324,28,347,40,377,69,402,102,434,164"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a9cbb2a371195bb22f404fd9910d1436e" title=" " alt="" coords="208,55,320,80"/>
<area shape="poly" title=" " alt="" coords="423,170,389,130,344,94,319,82,321,77,347,89,393,127,427,166"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a1277cef3aef64b77b88878cf83d5724a" title=" " alt="" coords="183,104,345,129"/>
<area shape="poly" title=" " alt="" coords="407,174,344,143,312,132,314,127,346,138,410,170"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a54ecef1f816b5662e19fac6f7ea3f8bb" title=" " alt="" coords="183,153,345,179"/>
<area shape="poly" title=" " alt="" coords="380,185,345,180,346,175,380,180"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#afd0a2e48ec1b9c86c5dd07ee5f734fa8" title=" " alt="" coords="183,203,345,228"/>
<area shape="poly" title=" " alt="" coords="380,202,346,207,345,202,380,197"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a3af9b4a4b0b466102f653080d2e7ad1f" title=" " alt="" coords="183,252,345,277"/>
<area shape="poly" title=" " alt="" coords="409,213,346,243,314,255,312,249,344,238,407,208"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a892bcd3e4f63977cc8b90e3e31974535" title=" " alt="" coords="198,301,330,327"/>
<area shape="poly" title=" " alt="" coords="426,217,392,256,347,292,322,304,320,299,344,288,388,252,422,214"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a65144c70313a704b5ba376ffe2e4fa10" title=" " alt="" coords="207,351,321,376"/>
<area shape="poly" title=" " alt="" coords="434,218,401,280,377,313,347,341,323,354,320,350,344,337,373,310,397,277,429,216"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a149f96da8ffb4412ebab795d11a9363f" title=" " alt="" coords="9,252,131,277"/>
<area shape="poly" title=" " alt="" coords="200,301,120,280,122,275,201,295"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#aff8517f9c34bbbf01ad9cb9f8b8fc825" title=" " alt="" coords="5,301,135,327"/>
<area shape="poly" title=" " alt="" coords="184,317,135,317,135,311,184,311"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ab0c4cd941202a415ffad7e744e8baf0c" title=" " alt="" coords="19,351,121,376"/>
<area shape="poly" title=" " alt="" coords="193,366,121,366,121,361,193,361"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#af5381c5b0b0a84097ce4a70339f67705" title=" " alt="" coords="15,400,125,425"/>
<area shape="poly" title=" " alt="" coords="201,382,122,402,120,397,200,377"/>
<area shape="poly" title=" " alt="" coords="1097,210,1062,205,1063,200,1097,204"/>
</map>
</div>

</div>
</div>
<a id="ad871f5aa0e74451c409c8b30ce75e384" name="ad871f5aa0e74451c409c8b30ce75e384"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad871f5aa0e74451c409c8b30ce75e384">&#9670;&#160;</a></span>UDT_input()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Datum UDT_input </td>
          <td>(</td>
          <td class="paramtype">UDT&#160;</td>
          <td class="paramname"><em>udt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PG_FUNCTION_ARGS&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d55/UDT_8c_source.html#l00284">284</a> of file <a class="el" href="../../d9/d55/UDT_8c_source.html">UDT.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  285</span>{</div>
<div class="line"><span class="lineno">  286</span>    jstring jstr;</div>
<div class="line"><span class="lineno">  287</span>    jobject obj;</div>
<div class="line"><span class="lineno">  288</span>    <span class="keywordtype">char</span>* txt;</div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="../../d9/d55/UDT_8c.html#adb09fd4ef543dc73a80b2035e070f49a">UDT_isScalar</a>(udt))</div>
<div class="line"><span class="lineno">  291</span>        ereport(ERROR, (</div>
<div class="line"><span class="lineno">  292</span>            errcode(ERRCODE_CANNOT_COERCE),</div>
<div class="line"><span class="lineno">  293</span>            errmsg(<span class="stringliteral">&quot;UDT with Oid %d is not scalar&quot;</span>, <a class="code hl_function" href="../../d3/dca/Type_8c.html#af260fc8ada071ed08a4b22f75f0c2271">Type_getOid</a>((<a class="code hl_define" href="../../d0/ddd/Oid_8c.html#ae1f0ac82c78444bf9b69e7dbdd1d1983">Type</a>)udt))));</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>    <a class="code hl_function" href="../../d9/d55/UDT_8c.html#abdfb0dc3dd48fc509e511cb3b63c2d23">noTypmodYet</a>(udt, fcinfo);</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>    txt = PG_GETARG_CSTRING(0);</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d3/dca/Type_8c.html#acfa5b9530c4a4af2868f71eb1a67e3cc">Type_getLength</a>((<a class="code hl_define" href="../../d0/ddd/Oid_8c.html#ae1f0ac82c78444bf9b69e7dbdd1d1983">Type</a>)udt) == -2)</div>
<div class="line"><span class="lineno">  300</span>    {</div>
<div class="line"><span class="lineno">  301</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  302</span><span class="comment">         * ASSUMPTION 1 is in play here. UDT_input is passed a cstring holding</span></div>
<div class="line"><span class="lineno">  303</span><span class="comment">         * the human-used external representation, and, just because this UDT is</span></div>
<div class="line"><span class="lineno">  304</span><span class="comment">         * also declared with length -2, that external representation is being</span></div>
<div class="line"><span class="lineno">  305</span><span class="comment">         * copied directly here as the internal representation, without even</span></div>
<div class="line"><span class="lineno">  306</span><span class="comment">         * invoking any of the UDT&#39;s code.</span></div>
<div class="line"><span class="lineno">  307</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  308</span>        <span class="keywordflow">if</span>(txt != 0)</div>
<div class="line"><span class="lineno">  309</span>            txt = pstrdup(txt);</div>
<div class="line"><span class="lineno">  310</span>        PG_RETURN_CSTRING(txt);</div>
<div class="line"><span class="lineno">  311</span>    }</div>
<div class="line"><span class="lineno">  312</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  313</span><span class="comment">     * Length != -2 so we do the expected: call parse to construct a Java object</span></div>
<div class="line"><span class="lineno">  314</span><span class="comment">     * from the external representation, then _UDT_coerceObject to get the</span></div>
<div class="line"><span class="lineno">  315</span><span class="comment">     * internal representation from the object.</span></div>
<div class="line"><span class="lineno">  316</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  317</span>    jstr = <a class="code hl_function" href="../../d4/db5/String_8c.html#acc0cac78b36dd9be338665bdfccb3186">String_createJavaStringFromNTS</a>(txt);</div>
<div class="line"><span class="lineno">  318</span>    obj  = <a class="code hl_function" href="../../db/d47/Function_8c.html#adf3111dab5301d2d7b7b1719c25d7b40">pljava_Function_udtParseInvoke</a>(udt-&gt;parse, jstr, udt-&gt;sqlTypeName);</div>
<div class="line"><span class="lineno">  319</span>    <a class="code hl_function" href="../../d3/d5a/JNICalls_8c.html#a822cb8058a101ff1cc1f637440a83f16">JNI_deleteLocalRef</a>(jstr);</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d55/UDT_8c.html#aae92fe5f07c0117e03229bb6d5e8bc60">_UDT_coerceObject</a>((<a class="code hl_define" href="../../d0/ddd/Oid_8c.html#ae1f0ac82c78444bf9b69e7dbdd1d1983">Type</a>)udt, obj);</div>
<div class="line"><span class="lineno">  322</span>}</div>
<div class="ttc" id="aUDT_8c_html_aae92fe5f07c0117e03229bb6d5e8bc60"><div class="ttname"><a href="../../d9/d55/UDT_8c.html#aae92fe5f07c0117e03229bb6d5e8bc60">_UDT_coerceObject</a></div><div class="ttdeci">Datum _UDT_coerceObject(Type self, jobject value)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d55/UDT_8c_source.html#l00241">UDT.c:241</a></div></div>
<div class="ttc" id="aUDT_8c_html_abdfb0dc3dd48fc509e511cb3b63c2d23"><div class="ttname"><a href="../../d9/d55/UDT_8c.html#abdfb0dc3dd48fc509e511cb3b63c2d23">noTypmodYet</a></div><div class="ttdeci">static void noTypmodYet(UDT udt, PG_FUNCTION_ARGS)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d55/UDT_8c_source.html#l00260">UDT.c:260</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d55/UDT_8c_source.html#l00241">_UDT_coerceObject()</a>, <a class="el" href="../../d3/d5a/JNICalls_8c_source.html#l00898">JNI_deleteLocalRef()</a>, <a class="el" href="../../d9/d55/UDT_8c_source.html#l00260">noTypmodYet()</a>, <a class="el" href="../../db/d47/Function_8c_source.html#l00522">pljava_Function_udtParseInvoke()</a>, <a class="el" href="../../d4/db5/String_8c_source.html#l00159">String_createJavaStringFromNTS()</a>, <a class="el" href="../../d0/ddd/Oid_8c_source.html#l00015">Type</a>, <a class="el" href="../../d3/dca/Type_8c_source.html#l00354">Type_getLength()</a>, <a class="el" href="../../d3/dca/Type_8c_source.html#l00441">Type_getOid()</a>, and <a class="el" href="../../d9/d55/UDT_8c_source.html#l00420">UDT_isScalar()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d47/Function_8c_source.html#l01257">Java_org_postgresql_pljava_internal_Function__1storeToUDT()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d55/UDT_8c_ad871f5aa0e74451c409c8b30ce75e384_icgraph.png" border="0" usemap="#ad9/d55/UDT_8c_ad871f5aa0e74451c409c8b30ce75e384_icgraph" alt=""/></div>
<map name="ad9/d55/UDT_8c_ad871f5aa0e74451c409c8b30ce75e384_icgraph" id="ad9/d55/UDT_8c_ad871f5aa0e74451c409c8b30ce75e384_icgraph">
<area shape="rect" title=" " alt="" coords="1111,179,1196,204"/>
<area shape="rect" href="../../db/d47/Function_8c.html#ae5b265e5bcb93d99775286e38eb534e1" title=" " alt="" coords="893,164,1063,219"/>
<area shape="poly" title=" " alt="" coords="1097,194,1063,194,1063,189,1097,189"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a7146fbf1c801b1839fb3772cc8c5f287" title=" " alt="" coords="719,179,845,204"/>
<area shape="poly" title=" " alt="" coords="879,194,846,194,846,189,879,189"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ac1df8c0fa25768dd0de490127eb894e6" title=" " alt="" coords="540,179,671,204"/>
<area shape="poly" title=" " alt="" coords="705,194,671,194,671,189,705,189"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a41964073f7e490c598598f219de9606e" title=" " alt="" coords="393,179,492,204"/>
<area shape="poly" title=" " alt="" coords="526,194,492,194,492,189,526,189"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a29e1a0b0688ac19dbde93824e4ae1a59" title=" " alt="" coords="228,5,300,31"/>
<area shape="poly" title=" " alt="" coords="429,167,397,105,373,72,344,44,322,32,299,25,301,20,324,28,347,40,377,69,402,102,434,164"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a9cbb2a371195bb22f404fd9910d1436e" title=" " alt="" coords="208,55,320,80"/>
<area shape="poly" title=" " alt="" coords="423,170,389,130,344,94,319,82,321,77,347,89,393,127,427,166"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a1277cef3aef64b77b88878cf83d5724a" title=" " alt="" coords="183,104,345,129"/>
<area shape="poly" title=" " alt="" coords="407,174,344,143,312,132,314,127,346,138,410,170"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a54ecef1f816b5662e19fac6f7ea3f8bb" title=" " alt="" coords="183,153,345,179"/>
<area shape="poly" title=" " alt="" coords="380,185,345,180,346,175,380,180"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#afd0a2e48ec1b9c86c5dd07ee5f734fa8" title=" " alt="" coords="183,203,345,228"/>
<area shape="poly" title=" " alt="" coords="380,202,346,207,345,202,380,197"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a3af9b4a4b0b466102f653080d2e7ad1f" title=" " alt="" coords="183,252,345,277"/>
<area shape="poly" title=" " alt="" coords="407,213,346,242,311,254,309,249,344,237,405,208"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a892bcd3e4f63977cc8b90e3e31974535" title=" " alt="" coords="198,301,330,327"/>
<area shape="poly" title=" " alt="" coords="426,217,392,255,347,291,319,304,317,299,344,286,388,251,422,213"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a65144c70313a704b5ba376ffe2e4fa10" title=" " alt="" coords="207,351,321,376"/>
<area shape="poly" title=" " alt="" coords="434,218,401,279,377,312,347,340,323,353,320,349,344,336,373,308,397,276,429,215"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a149f96da8ffb4412ebab795d11a9363f" title=" " alt="" coords="9,252,131,277"/>
<area shape="poly" title=" " alt="" coords="200,301,120,280,122,275,201,295"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#aff8517f9c34bbbf01ad9cb9f8b8fc825" title=" " alt="" coords="5,301,135,327"/>
<area shape="poly" title=" " alt="" coords="184,317,135,317,135,311,184,311"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ab0c4cd941202a415ffad7e744e8baf0c" title=" " alt="" coords="19,351,121,376"/>
<area shape="poly" title=" " alt="" coords="193,366,121,366,121,361,193,361"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#af5381c5b0b0a84097ce4a70339f67705" title=" " alt="" coords="15,400,125,425"/>
<area shape="poly" title=" " alt="" coords="201,382,122,402,120,397,200,377"/>
</map>
</div>

</div>
</div>
<a id="adb09fd4ef543dc73a80b2035e070f49a" name="adb09fd4ef543dc73a80b2035e070f49a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb09fd4ef543dc73a80b2035e070f49a">&#9670;&#160;</a></span>UDT_isScalar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UDT_isScalar </td>
          <td>(</td>
          <td class="paramtype">UDT&#160;</td>
          <td class="paramname"><em>udt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d55/UDT_8c_source.html#l00420">420</a> of file <a class="el" href="../../d9/d55/UDT_8c_source.html">UDT.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  421</span>{</div>
<div class="line"><span class="lineno">  422</span>    <span class="keywordflow">return</span> ! udt-&gt;hasTupleDesc;</div>
<div class="line"><span class="lineno">  423</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d9/d55/UDT_8c_source.html#l00230">_UDT_coerceDatum()</a>, <a class="el" href="../../d9/d55/UDT_8c_source.html#l00241">_UDT_coerceObject()</a>, <a class="el" href="../../d9/d55/UDT_8c_source.html#l00284">UDT_input()</a>, <a class="el" href="../../d9/d55/UDT_8c_source.html#l00324">UDT_output()</a>, <a class="el" href="../../d9/d55/UDT_8c_source.html#l00366">UDT_receive()</a>, and <a class="el" href="../../d9/d55/UDT_8c_source.html#l00395">UDT_send()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d55/UDT_8c_adb09fd4ef543dc73a80b2035e070f49a_icgraph.png" border="0" usemap="#ad9/d55/UDT_8c_adb09fd4ef543dc73a80b2035e070f49a_icgraph" alt=""/></div>
<map name="ad9/d55/UDT_8c_adb09fd4ef543dc73a80b2035e070f49a_icgraph" id="ad9/d55/UDT_8c_adb09fd4ef543dc73a80b2035e070f49a_icgraph">
<area shape="rect" title=" " alt="" coords="2747,132,2851,157"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#a1dfe1f0680c22cb13359e8477fae27e4" title=" " alt="" coords="2556,156,2699,181"/>
<area shape="poly" title=" " alt="" coords="2733,156,2699,161,2698,156,2733,151"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#aafa3e55ad7b3ada2875c9e5f25200e69" title=" " alt="" coords="2397,56,2491,81"/>
<area shape="poly" title=" " alt="" coords="2765,127,2733,110,2698,97,2643,84,2587,76,2491,71,2491,65,2588,71,2644,79,2699,91,2736,106,2768,123"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#aae92fe5f07c0117e03229bb6d5e8bc60" title=" " alt="" coords="2557,205,2698,231"/>
<area shape="poly" title=" " alt="" coords="2763,166,2700,196,2670,208,2668,203,2698,192,2761,161"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#ad871f5aa0e74451c409c8b30ce75e384" title=" " alt="" coords="2401,208,2487,233"/>
<area shape="poly" title=" " alt="" coords="2784,171,2749,211,2726,231,2700,246,2671,255,2641,260,2580,259,2524,249,2478,236,2480,231,2525,244,2580,253,2640,254,2670,250,2698,241,2723,227,2746,208,2780,167"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#a4bb62f32e51b87dc9b80f7a31ce964c8" title=" " alt="" coords="2183,5,2281,31"/>
<area shape="poly" title=" " alt="" coords="2775,124,2741,93,2698,67,2643,48,2585,33,2469,17,2363,14,2282,17,2281,11,2363,8,2469,12,2586,28,2644,43,2700,62,2744,89,2778,120"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#ae7d5631da3b704ef978f3c309e5b684f" title=" " alt="" coords="2585,107,2670,132"/>
<area shape="poly" title=" " alt="" coords="2732,138,2670,128,2671,123,2733,132"/>
<area shape="poly" title=" " alt="" coords="2569,153,2555,147,2501,115,2459,84,2463,79,2504,110,2557,142,2571,149"/>
<area shape="rect" href="../../d9/d55/UDT_8c.html#a654241f236fc531dc6e4751852e2ad4a" title=" " alt="" coords="2380,159,2508,184"/>
<area shape="poly" title=" " alt="" coords="2542,173,2508,173,2508,168,2542,167"/>
<area shape="rect" href="../../db/d47/Function_8c.html#ae5b265e5bcb93d99775286e38eb534e1" title=" " alt="" coords="1915,79,2084,133"/>
<area shape="poly" title=" " alt="" coords="2384,76,2085,102,2084,96,2383,71"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a7146fbf1c801b1839fb3772cc8c5f287" title=" " alt="" coords="1473,80,1599,105"/>
<area shape="poly" title=" " alt="" coords="1901,106,1599,97,1600,92,1901,101"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ac1df8c0fa25768dd0de490127eb894e6" title=" " alt="" coords="540,192,671,217"/>
<area shape="poly" title=" " alt="" coords="1459,103,1137,137,719,189,672,196,671,191,718,183,1137,131,1459,97"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a41964073f7e490c598598f219de9606e" title=" " alt="" coords="393,192,492,217"/>
<area shape="poly" title=" " alt="" coords="526,207,492,207,492,202,526,202"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a29e1a0b0688ac19dbde93824e4ae1a59" title=" " alt="" coords="228,19,300,44"/>
<area shape="poly" title=" " alt="" coords="429,180,397,118,373,85,344,57,322,46,299,39,301,34,324,41,347,53,377,82,402,115,434,178"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a9cbb2a371195bb22f404fd9910d1436e" title=" " alt="" coords="208,68,320,93"/>
<area shape="poly" title=" " alt="" coords="423,183,389,144,344,107,319,95,321,91,347,102,393,140,427,179"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a1277cef3aef64b77b88878cf83d5724a" title=" " alt="" coords="183,117,345,143"/>
<area shape="poly" title=" " alt="" coords="406,188,344,158,309,145,311,140,346,153,408,183"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a54ecef1f816b5662e19fac6f7ea3f8bb" title=" " alt="" coords="183,167,345,192"/>
<area shape="poly" title=" " alt="" coords="380,198,345,194,346,188,380,193"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#afd0a2e48ec1b9c86c5dd07ee5f734fa8" title=" " alt="" coords="183,216,345,241"/>
<area shape="poly" title=" " alt="" coords="380,216,346,220,345,215,380,210"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a3af9b4a4b0b466102f653080d2e7ad1f" title=" " alt="" coords="183,265,345,291"/>
<area shape="poly" title=" " alt="" coords="409,226,346,256,314,268,312,263,344,252,407,221"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a892bcd3e4f63977cc8b90e3e31974535" title=" " alt="" coords="198,315,330,340"/>
<area shape="poly" title=" " alt="" coords="426,231,392,269,347,306,322,317,320,312,344,301,388,265,422,227"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a65144c70313a704b5ba376ffe2e4fa10" title=" " alt="" coords="207,364,321,389"/>
<area shape="poly" title=" " alt="" coords="434,231,401,293,377,326,347,355,323,368,320,363,344,351,373,323,397,290,429,229"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a149f96da8ffb4412ebab795d11a9363f" title=" " alt="" coords="9,265,131,291"/>
<area shape="poly" title=" " alt="" coords="200,314,120,293,122,288,201,309"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#aff8517f9c34bbbf01ad9cb9f8b8fc825" title=" " alt="" coords="5,315,135,340"/>
<area shape="poly" title=" " alt="" coords="184,330,135,330,135,325,184,325"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ab0c4cd941202a415ffad7e744e8baf0c" title=" " alt="" coords="19,364,121,389"/>
<area shape="poly" title=" " alt="" coords="193,379,121,379,121,374,193,374"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#af5381c5b0b0a84097ce4a70339f67705" title=" " alt="" coords="15,413,125,439"/>
<area shape="poly" title=" " alt="" coords="201,395,122,416,120,411,200,390"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#acd6872ccab1abaa9786a72920a32122e" title=" " alt="" coords="2153,259,2311,284"/>
<area shape="poly" title=" " alt="" coords="2398,192,2381,199,2258,261,2256,256,2379,194,2396,187"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a8f6cc6234bdd9b98812a5ed72171b41f" title=" " alt="" coords="2132,157,2332,183"/>
<area shape="poly" title=" " alt="" coords="2366,174,2332,173,2332,168,2367,168"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#a8987191520260e0903f4f12aeaef9029" title=" " alt="" coords="1948,259,2051,284"/>
<area shape="poly" title=" " alt="" coords="2139,274,2051,274,2051,269,2139,269"/>
<area shape="poly" title=" " alt="" coords="2038,249,2027,241,1999,237,1976,239,1964,244,1962,250,1968,257,1964,260,1956,250,1960,240,1975,234,1999,232,2029,236,2041,245"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#a8b2adfe9fbb800c8206c93ecc428d492" title=" " alt="" coords="1715,259,1847,284"/>
<area shape="poly" title=" " alt="" coords="1934,274,1848,274,1848,269,1934,269"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#a81b8d7ae61921b88a7cd2174a9f4f315" title=" " alt="" coords="1700,209,1863,235"/>
<area shape="poly" title=" " alt="" coords="1934,259,1838,237,1839,232,1935,254"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#ae44751e9d256ab4657a0b6ce585f5212" title=" " alt="" coords="1728,519,1835,544"/>
<area shape="poly" title=" " alt="" coords="1988,298,1941,381,1907,430,1869,476,1838,501,1808,521,1805,516,1835,497,1865,472,1903,427,1937,378,1984,295"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a0d9705bd13cc0019fbc604a62d3d9df2" title=" " alt="" coords="1697,131,1866,185"/>
<area shape="poly" title=" " alt="" coords="1963,254,1865,200,1840,188,1843,183,1868,196,1966,249"/>
<area shape="rect" href="../../d7/d3e/Relation_8c.html#a839ad6d78f5757e0913140f60054d239" title=" " alt="" coords="1698,407,1865,461"/>
<area shape="poly" title=" " alt="" coords="1972,294,1820,409,1817,405,1969,290"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#a546e0e9b27a7bc9f94eaea1012b2bbb1" title=" " alt="" coords="1696,316,1867,341"/>
<area shape="poly" title=" " alt="" coords="1938,290,1831,319,1830,313,1936,285"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#a011864d5eae28703b5cc5e4959109f19" title=" " alt="" coords="1223,173,1322,199"/>
<area shape="poly" title=" " alt="" coords="1714,257,1695,250,1671,235,1647,222,1559,201,1470,190,1388,186,1323,186,1323,181,1388,181,1471,185,1560,196,1649,217,1674,230,1697,245,1716,252"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#a1303ff39e1cdff6f19c7670bd4ec8be7" title=" " alt="" coords="979,192,1083,217"/>
<area shape="poly" title=" " alt="" coords="1210,193,1084,203,1083,198,1209,188"/>
<area shape="poly" title=" " alt="" coords="965,207,671,207,671,202,965,202"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#aff8b56773fa6193ae8bb9376bd3afd25" title=" " alt="" coords="1459,129,1613,155"/>
<area shape="poly" title=" " alt="" coords="1716,208,1695,200,1647,176,1588,157,1589,152,1649,172,1697,196,1718,203"/>
<area shape="poly" title=" " alt="" coords="1447,160,1323,180,1322,175,1446,154"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#a2778e4be551c7d0fa9554bba54a13baa" title=" " alt="" coords="1447,583,1625,637"/>
<area shape="poly" title=" " alt="" coords="1728,551,1623,585,1621,580,1727,546"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#a6389e86cbf9f74354e820baaff15982c" title=" " alt="" coords="1447,504,1625,559"/>
<area shape="poly" title=" " alt="" coords="1714,534,1625,534,1625,529,1714,529"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#aaaa4855fbf861e872df9bfb810cc101e" title=" " alt="" coords="1199,511,1346,551"/>
<area shape="poly" title=" " alt="" coords="1434,582,1340,554,1341,549,1435,577"/>
<area shape="rect" href="../../d9/db5/DualState_8c.html#a8d801b0a312cffe3bff0b46e7a5bb6e8" title=" " alt="" coords="719,396,893,421"/>
<area shape="poly" title=" " alt="" coords="1185,534,1067,523,1003,512,940,494,905,479,872,460,822,424,825,419,875,455,908,474,942,489,1004,506,1068,518,1186,528"/>
<area shape="poly" title=" " alt="" coords="781,388,617,219,621,216,785,384"/>
<area shape="poly" title=" " alt="" coords="1433,534,1346,534,1346,529,1433,529"/>
<area shape="poly" title=" " alt="" coords="1683,129,1647,119,1599,108,1600,103,1649,114,1684,124"/>
<area shape="rect" href="../../d7/d3e/Relation_8c.html#a417f173169e1a1f11b29b494d7d34612" title=" " alt="" coords="949,453,1114,479"/>
<area shape="poly" title=" " alt="" coords="1685,441,1114,465,1114,460,1684,435"/>
<area shape="poly" title=" " alt="" coords="967,453,856,424,857,419,968,447"/>
<area shape="rect" href="../../d0/ddd/Oid_8c.html#ae6f8b71f69b5d0638f5aef657dc67a16" title=" " alt="" coords="1457,231,1615,285"/>
<area shape="poly" title=" " alt="" coords="1722,315,1615,283,1617,278,1724,309"/>
<area shape="rect" href="../../df/df4/TupleDesc_8c.html#af939622dbe1e808a0c2eac99630fab60" title=" " alt="" coords="1445,309,1627,364"/>
<area shape="poly" title=" " alt="" coords="1682,335,1628,336,1627,331,1682,329"/>
<area shape="rect" href="../../df/df4/TupleDesc_8c.html#a9ccdcf8c074cfd34097e6a95f7d34815" title=" " alt="" coords="1424,388,1648,413"/>
<area shape="poly" title=" " alt="" coords="1737,349,1649,379,1604,390,1603,385,1647,374,1735,344"/>
<area shape="rect" href="../../d0/ddd/Oid_8c.html#a5250929ac42e2d6c9f4433312102b822" title=" " alt="" coords="1225,223,1321,248"/>
<area shape="poly" title=" " alt="" coords="1442,253,1320,242,1321,237,1443,247"/>
<area shape="poly" title=" " alt="" coords="1210,230,1083,214,1084,209,1211,225"/>
<area shape="rect" href="../../df/df4/TupleDesc_8c.html#a8cc68891ac2f6c575a6c0d95a5b28b84" title=" " alt="" coords="941,260,1121,285"/>
<area shape="poly" title=" " alt="" coords="1431,323,1376,315,1121,285,1122,280,1376,310,1432,318"/>
<area shape="poly" title=" " alt="" coords="961,292,943,300,905,323,871,350,821,398,818,394,868,346,902,319,940,296,958,287"/>
<area shape="rect" href="../../dd/dbc/SingleRowReader_8c.html#af42ece0157878da0404a440fe9551d0e" title=" " alt="" coords="1169,373,1376,428"/>
<area shape="poly" title=" " alt="" coords="1410,403,1376,403,1376,398,1410,398"/>
<area shape="rect" href="../../db/dad/Tuple_8c.html#a8d83236dd5812e7d7497976738a508f3" title=" " alt="" coords="1193,324,1352,349"/>
<area shape="poly" title=" " alt="" coords="1458,388,1423,379,1375,365,1327,352,1328,347,1377,359,1425,374,1459,382"/>
<area shape="rect" href="../../dd/dbc/SingleRowReader_8c.html#a32bb724881c2c4c62b37f7c5e7bd122d" title=" " alt="" coords="947,389,1115,429"/>
<area shape="poly" title=" " alt="" coords="1156,407,1116,409,1116,403,1156,402"/>
<area shape="poly" title=" " alt="" coords="933,411,894,411,894,406,933,406"/>
<area shape="rect" href="../../db/dad/Tuple_8c.html#a7333d95832231a2075f1b1f20cb45875" title=" " alt="" coords="956,309,1107,364"/>
<area shape="poly" title=" " alt="" coords="1180,339,1107,339,1107,334,1180,334"/>
<area shape="poly" title=" " alt="" coords="2171,156,2084,132,2085,127,2172,151"/>
<area shape="poly" title=" " alt="" coords="2190,191,2031,261,2028,256,2188,186"/>
<area shape="poly" title=" " alt="" coords="2563,204,2494,187,2495,181,2564,199"/>
<area shape="poly" title=" " alt="" coords="2543,222,2487,223,2487,217,2543,217"/>
<area shape="poly" title=" " alt="" coords="2387,227,2333,228,2268,225,2198,216,2131,198,2075,169,2029,136,2033,131,2078,165,2133,193,2200,210,2268,220,2333,223,2387,222"/>
<area shape="poly" title=" " alt="" coords="2177,37,2133,52,2063,81,2061,76,2131,48,2175,32"/>
<area shape="poly" title=" " alt="" coords="2571,121,2084,110,2084,105,2571,115"/>
</map>
</div>

</div>
</div>
<a id="aafa3e55ad7b3ada2875c9e5f25200e69" name="aafa3e55ad7b3ada2875c9e5f25200e69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafa3e55ad7b3ada2875c9e5f25200e69">&#9670;&#160;</a></span>UDT_output()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Datum UDT_output </td>
          <td>(</td>
          <td class="paramtype">UDT&#160;</td>
          <td class="paramname"><em>udt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PG_FUNCTION_ARGS&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d55/UDT_8c_source.html#l00324">324</a> of file <a class="el" href="../../d9/d55/UDT_8c_source.html">UDT.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  325</span>{</div>
<div class="line"><span class="lineno">  326</span>    <span class="keywordtype">char</span>* txt;</div>
<div class="line"><span class="lineno">  327</span> </div>
<div class="line"><span class="lineno">  328</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="../../d9/d55/UDT_8c.html#adb09fd4ef543dc73a80b2035e070f49a">UDT_isScalar</a>(udt))</div>
<div class="line"><span class="lineno">  329</span>        ereport(ERROR, (</div>
<div class="line"><span class="lineno">  330</span>            errcode(ERRCODE_CANNOT_COERCE),</div>
<div class="line"><span class="lineno">  331</span>            errmsg(<span class="stringliteral">&quot;UDT with Oid %d is not scalar&quot;</span>, <a class="code hl_function" href="../../d3/dca/Type_8c.html#af260fc8ada071ed08a4b22f75f0c2271">Type_getOid</a>((<a class="code hl_define" href="../../d0/ddd/Oid_8c.html#ae1f0ac82c78444bf9b69e7dbdd1d1983">Type</a>)udt))));</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d3/dca/Type_8c.html#acfa5b9530c4a4af2868f71eb1a67e3cc">Type_getLength</a>((<a class="code hl_define" href="../../d0/ddd/Oid_8c.html#ae1f0ac82c78444bf9b69e7dbdd1d1983">Type</a>)udt) == -2)</div>
<div class="line"><span class="lineno">  334</span>    {</div>
<div class="line"><span class="lineno">  335</span>        txt = PG_GETARG_CSTRING(0);</div>
<div class="line"><span class="lineno">  336</span>        <span class="keywordflow">if</span>(txt != 0)</div>
<div class="line"><span class="lineno">  337</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  338</span><span class="comment">         * ASSUMPTION 1 is in play here. UDT_output returns a cstring to contain</span></div>
<div class="line"><span class="lineno">  339</span><span class="comment">         * the human-used external representation, and, just because this UDT&#39;s</span></div>
<div class="line"><span class="lineno">  340</span><span class="comment">         * internal representation is also declared with length -2, the internal</span></div>
<div class="line"><span class="lineno">  341</span><span class="comment">         * is being copied directly as the external representation, without even</span></div>
<div class="line"><span class="lineno">  342</span><span class="comment">         * invoking any of the UDT&#39;s code.</span></div>
<div class="line"><span class="lineno">  343</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  344</span>            txt = pstrdup(txt);</div>
<div class="line"><span class="lineno">  345</span>    }</div>
<div class="line"><span class="lineno">  346</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  347</span>    {</div>
<div class="line"><span class="lineno">  348</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  349</span><span class="comment">         * Length != -2 so we do the expected: call _UDT_coerceDatum to</span></div>
<div class="line"><span class="lineno">  350</span><span class="comment">         * construct a Java object from the internal representation, then</span></div>
<div class="line"><span class="lineno">  351</span><span class="comment">         * toString to get the external representation from the object.</span></div>
<div class="line"><span class="lineno">  352</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  353</span>        jobject value = <a class="code hl_function" href="../../d9/d55/UDT_8c.html#a1dfe1f0680c22cb13359e8477fae27e4">_UDT_coerceDatum</a>((<a class="code hl_define" href="../../d0/ddd/Oid_8c.html#ae1f0ac82c78444bf9b69e7dbdd1d1983">Type</a>)udt, PG_GETARG_DATUM(0)).l;</div>
<div class="line"><span class="lineno">  354</span>        jstring jstr  = <a class="code hl_function" href="../../db/d47/Function_8c.html#a214263b15ccb9b0359d8b2cff9d09982">pljava_Function_udtToStringInvoke</a>(udt-&gt;toString, value);</div>
<div class="line"><span class="lineno">  355</span> </div>
<div class="line"><span class="lineno">  356</span>        MemoryContext currCtx = <a class="code hl_function" href="../../d5/dc4/Invocation_8c.html#a6e5879602a1bd70123795addc6428557">Invocation_switchToUpperContext</a>();</div>
<div class="line"><span class="lineno">  357</span>        txt = <a class="code hl_function" href="../../d4/db5/String_8c.html#aba633e63b49b63ba233d30003e59663c">String_createNTS</a>(jstr);</div>
<div class="line"><span class="lineno">  358</span>        MemoryContextSwitchTo(currCtx);</div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span>        <a class="code hl_function" href="../../d3/d5a/JNICalls_8c.html#a822cb8058a101ff1cc1f637440a83f16">JNI_deleteLocalRef</a>(value);</div>
<div class="line"><span class="lineno">  361</span>        <a class="code hl_function" href="../../d3/d5a/JNICalls_8c.html#a822cb8058a101ff1cc1f637440a83f16">JNI_deleteLocalRef</a>(jstr);</div>
<div class="line"><span class="lineno">  362</span>    }</div>
<div class="line"><span class="lineno">  363</span>    PG_RETURN_CSTRING(txt);</div>
<div class="line"><span class="lineno">  364</span>}</div>
<div class="ttc" id="aUDT_8c_html_a1dfe1f0680c22cb13359e8477fae27e4"><div class="ttname"><a href="../../d9/d55/UDT_8c.html#a1dfe1f0680c22cb13359e8477fae27e4">_UDT_coerceDatum</a></div><div class="ttdeci">jvalue _UDT_coerceDatum(Type self, Datum arg)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d55/UDT_8c_source.html#l00230">UDT.c:230</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d55/UDT_8c_source.html#l00230">_UDT_coerceDatum()</a>, <a class="el" href="../../d5/dc4/Invocation_8c_source.html#l00248">Invocation_switchToUpperContext()</a>, <a class="el" href="../../d3/d5a/JNICalls_8c_source.html#l00898">JNI_deleteLocalRef()</a>, <a class="el" href="../../db/d47/Function_8c_source.html#l00509">pljava_Function_udtToStringInvoke()</a>, <a class="el" href="../../d4/db5/String_8c_source.html#l00239">String_createNTS()</a>, <a class="el" href="../../d0/ddd/Oid_8c_source.html#l00015">Type</a>, <a class="el" href="../../d3/dca/Type_8c_source.html#l00354">Type_getLength()</a>, <a class="el" href="../../d3/dca/Type_8c_source.html#l00441">Type_getOid()</a>, and <a class="el" href="../../d9/d55/UDT_8c_source.html#l00420">UDT_isScalar()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d47/Function_8c_source.html#l01257">Java_org_postgresql_pljava_internal_Function__1storeToUDT()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d55/UDT_8c_aafa3e55ad7b3ada2875c9e5f25200e69_icgraph.png" border="0" usemap="#ad9/d55/UDT_8c_aafa3e55ad7b3ada2875c9e5f25200e69_icgraph" alt=""/></div>
<map name="ad9/d55/UDT_8c_aafa3e55ad7b3ada2875c9e5f25200e69_icgraph" id="ad9/d55/UDT_8c_aafa3e55ad7b3ada2875c9e5f25200e69_icgraph">
<area shape="rect" title=" " alt="" coords="1111,179,1204,204"/>
<area shape="rect" href="../../db/d47/Function_8c.html#ae5b265e5bcb93d99775286e38eb534e1" title=" " alt="" coords="893,164,1063,219"/>
<area shape="poly" title=" " alt="" coords="1097,194,1063,194,1063,189,1097,189"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a7146fbf1c801b1839fb3772cc8c5f287" title=" " alt="" coords="719,179,845,204"/>
<area shape="poly" title=" " alt="" coords="879,194,846,194,846,189,879,189"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ac1df8c0fa25768dd0de490127eb894e6" title=" " alt="" coords="540,179,671,204"/>
<area shape="poly" title=" " alt="" coords="705,194,671,194,671,189,705,189"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a41964073f7e490c598598f219de9606e" title=" " alt="" coords="393,179,492,204"/>
<area shape="poly" title=" " alt="" coords="526,194,492,194,492,189,526,189"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a29e1a0b0688ac19dbde93824e4ae1a59" title=" " alt="" coords="228,5,300,31"/>
<area shape="poly" title=" " alt="" coords="429,167,397,105,373,72,344,44,322,32,299,25,301,20,324,28,347,40,377,69,402,102,434,164"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a9cbb2a371195bb22f404fd9910d1436e" title=" " alt="" coords="208,55,320,80"/>
<area shape="poly" title=" " alt="" coords="423,170,389,130,344,94,319,82,321,77,347,89,393,127,427,166"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a1277cef3aef64b77b88878cf83d5724a" title=" " alt="" coords="183,104,345,129"/>
<area shape="poly" title=" " alt="" coords="407,174,344,143,312,132,314,127,346,138,410,170"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a54ecef1f816b5662e19fac6f7ea3f8bb" title=" " alt="" coords="183,153,345,179"/>
<area shape="poly" title=" " alt="" coords="380,185,345,180,346,175,380,180"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#afd0a2e48ec1b9c86c5dd07ee5f734fa8" title=" " alt="" coords="183,203,345,228"/>
<area shape="poly" title=" " alt="" coords="380,202,346,207,345,202,380,197"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a3af9b4a4b0b466102f653080d2e7ad1f" title=" " alt="" coords="183,252,345,277"/>
<area shape="poly" title=" " alt="" coords="407,213,346,242,311,254,309,249,344,237,405,208"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a892bcd3e4f63977cc8b90e3e31974535" title=" " alt="" coords="198,301,330,327"/>
<area shape="poly" title=" " alt="" coords="426,217,392,255,347,291,319,304,317,299,344,286,388,251,422,213"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a65144c70313a704b5ba376ffe2e4fa10" title=" " alt="" coords="207,351,321,376"/>
<area shape="poly" title=" " alt="" coords="434,218,401,279,377,312,347,340,323,353,320,349,344,336,373,308,397,276,429,215"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a149f96da8ffb4412ebab795d11a9363f" title=" " alt="" coords="9,252,131,277"/>
<area shape="poly" title=" " alt="" coords="200,301,120,280,122,275,201,295"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#aff8517f9c34bbbf01ad9cb9f8b8fc825" title=" " alt="" coords="5,301,135,327"/>
<area shape="poly" title=" " alt="" coords="184,317,135,317,135,311,184,311"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ab0c4cd941202a415ffad7e744e8baf0c" title=" " alt="" coords="19,351,121,376"/>
<area shape="poly" title=" " alt="" coords="193,366,121,366,121,361,193,361"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#af5381c5b0b0a84097ce4a70339f67705" title=" " alt="" coords="15,400,125,425"/>
<area shape="poly" title=" " alt="" coords="201,382,122,402,120,397,200,377"/>
</map>
</div>

</div>
</div>
<a id="a4bb62f32e51b87dc9b80f7a31ce964c8" name="a4bb62f32e51b87dc9b80f7a31ce964c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bb62f32e51b87dc9b80f7a31ce964c8">&#9670;&#160;</a></span>UDT_receive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Datum UDT_receive </td>
          <td>(</td>
          <td class="paramtype">UDT&#160;</td>
          <td class="paramname"><em>udt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PG_FUNCTION_ARGS&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d55/UDT_8c_source.html#l00366">366</a> of file <a class="el" href="../../d9/d55/UDT_8c_source.html">UDT.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  367</span>{</div>
<div class="line"><span class="lineno">  368</span>    StringInfo buf;</div>
<div class="line"><span class="lineno">  369</span>    <span class="keywordtype">char</span>* tmp;</div>
<div class="line"><span class="lineno">  370</span>    int32 dataLen = <a class="code hl_function" href="../../d3/dca/Type_8c.html#acfa5b9530c4a4af2868f71eb1a67e3cc">Type_getLength</a>((<a class="code hl_define" href="../../d0/ddd/Oid_8c.html#ae1f0ac82c78444bf9b69e7dbdd1d1983">Type</a>)udt);</div>
<div class="line"><span class="lineno">  371</span> </div>
<div class="line"><span class="lineno">  372</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="../../d9/d55/UDT_8c.html#adb09fd4ef543dc73a80b2035e070f49a">UDT_isScalar</a>(udt))</div>
<div class="line"><span class="lineno">  373</span>        ereport(ERROR, (</div>
<div class="line"><span class="lineno">  374</span>            errcode(ERRCODE_CANNOT_COERCE),</div>
<div class="line"><span class="lineno">  375</span>            errmsg(<span class="stringliteral">&quot;UDT with Oid %d is not scalar&quot;</span>, <a class="code hl_function" href="../../d3/dca/Type_8c.html#af260fc8ada071ed08a4b22f75f0c2271">Type_getOid</a>((<a class="code hl_define" href="../../d0/ddd/Oid_8c.html#ae1f0ac82c78444bf9b69e7dbdd1d1983">Type</a>)udt))));</div>
<div class="line"><span class="lineno">  376</span> </div>
<div class="line"><span class="lineno">  377</span>    <a class="code hl_function" href="../../d9/d55/UDT_8c.html#abdfb0dc3dd48fc509e511cb3b63c2d23">noTypmodYet</a>(udt, fcinfo);</div>
<div class="line"><span class="lineno">  378</span> </div>
<div class="line"><span class="lineno">  379</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  380</span><span class="comment">     * ASSUMPTION 2 is in play here. The external byte stream is being received</span></div>
<div class="line"><span class="lineno">  381</span><span class="comment">     * and directly stored as the internal representation of the type.</span></div>
<div class="line"><span class="lineno">  382</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  383</span>    <span class="keywordflow">if</span>(dataLen == -1)</div>
<div class="line"><span class="lineno">  384</span>        <span class="keywordflow">return</span> bytearecv(fcinfo);</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>    <span class="keywordflow">if</span>(dataLen == -2)</div>
<div class="line"><span class="lineno">  387</span>        <span class="keywordflow">return</span> unknownrecv(fcinfo);</div>
<div class="line"><span class="lineno">  388</span> </div>
<div class="line"><span class="lineno">  389</span>    buf = (StringInfo)PG_GETARG_POINTER(0);</div>
<div class="line"><span class="lineno">  390</span>    tmp = palloc(dataLen);</div>
<div class="line"><span class="lineno">  391</span>    pq_copymsgbytes(buf, tmp, dataLen);</div>
<div class="line"><span class="lineno">  392</span>    PG_RETURN_POINTER(tmp);</div>
<div class="line"><span class="lineno">  393</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d55/UDT_8c_source.html#l00260">noTypmodYet()</a>, <a class="el" href="../../d0/ddd/Oid_8c_source.html#l00015">Type</a>, <a class="el" href="../../d3/dca/Type_8c_source.html#l00354">Type_getLength()</a>, <a class="el" href="../../d3/dca/Type_8c_source.html#l00441">Type_getOid()</a>, and <a class="el" href="../../d9/d55/UDT_8c_source.html#l00420">UDT_isScalar()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d47/Function_8c_source.html#l01257">Java_org_postgresql_pljava_internal_Function__1storeToUDT()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d55/UDT_8c_a4bb62f32e51b87dc9b80f7a31ce964c8_icgraph.png" border="0" usemap="#ad9/d55/UDT_8c_a4bb62f32e51b87dc9b80f7a31ce964c8_icgraph" alt=""/></div>
<map name="ad9/d55/UDT_8c_a4bb62f32e51b87dc9b80f7a31ce964c8_icgraph" id="ad9/d55/UDT_8c_a4bb62f32e51b87dc9b80f7a31ce964c8_icgraph">
<area shape="rect" title=" " alt="" coords="1111,179,1209,204"/>
<area shape="rect" href="../../db/d47/Function_8c.html#ae5b265e5bcb93d99775286e38eb534e1" title=" " alt="" coords="893,164,1063,219"/>
<area shape="poly" title=" " alt="" coords="1097,194,1063,194,1063,189,1097,189"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a7146fbf1c801b1839fb3772cc8c5f287" title=" " alt="" coords="719,179,845,204"/>
<area shape="poly" title=" " alt="" coords="879,194,846,194,846,189,879,189"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ac1df8c0fa25768dd0de490127eb894e6" title=" " alt="" coords="540,179,671,204"/>
<area shape="poly" title=" " alt="" coords="705,194,671,194,671,189,705,189"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a41964073f7e490c598598f219de9606e" title=" " alt="" coords="393,179,492,204"/>
<area shape="poly" title=" " alt="" coords="526,194,492,194,492,189,526,189"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a29e1a0b0688ac19dbde93824e4ae1a59" title=" " alt="" coords="228,5,300,31"/>
<area shape="poly" title=" " alt="" coords="429,167,397,105,373,72,344,44,322,32,299,25,301,20,324,28,347,40,377,69,402,102,434,164"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a9cbb2a371195bb22f404fd9910d1436e" title=" " alt="" coords="208,55,320,80"/>
<area shape="poly" title=" " alt="" coords="423,170,389,130,344,94,319,82,321,77,347,89,393,127,427,166"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a1277cef3aef64b77b88878cf83d5724a" title=" " alt="" coords="183,104,345,129"/>
<area shape="poly" title=" " alt="" coords="407,174,344,143,312,132,314,127,346,138,410,170"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a54ecef1f816b5662e19fac6f7ea3f8bb" title=" " alt="" coords="183,153,345,179"/>
<area shape="poly" title=" " alt="" coords="380,185,345,180,346,175,380,180"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#afd0a2e48ec1b9c86c5dd07ee5f734fa8" title=" " alt="" coords="183,203,345,228"/>
<area shape="poly" title=" " alt="" coords="380,202,346,207,345,202,380,197"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a3af9b4a4b0b466102f653080d2e7ad1f" title=" " alt="" coords="183,252,345,277"/>
<area shape="poly" title=" " alt="" coords="407,213,346,242,311,254,309,249,344,237,405,208"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a892bcd3e4f63977cc8b90e3e31974535" title=" " alt="" coords="198,301,330,327"/>
<area shape="poly" title=" " alt="" coords="426,217,392,255,347,291,319,304,317,299,344,286,388,251,422,213"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a65144c70313a704b5ba376ffe2e4fa10" title=" " alt="" coords="207,351,321,376"/>
<area shape="poly" title=" " alt="" coords="434,218,401,279,377,312,347,340,323,353,320,349,344,336,373,308,397,276,429,215"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a149f96da8ffb4412ebab795d11a9363f" title=" " alt="" coords="9,252,131,277"/>
<area shape="poly" title=" " alt="" coords="200,301,120,280,122,275,201,295"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#aff8517f9c34bbbf01ad9cb9f8b8fc825" title=" " alt="" coords="5,301,135,327"/>
<area shape="poly" title=" " alt="" coords="184,317,135,317,135,311,184,311"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ab0c4cd941202a415ffad7e744e8baf0c" title=" " alt="" coords="19,351,121,376"/>
<area shape="poly" title=" " alt="" coords="193,366,121,366,121,361,193,361"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#af5381c5b0b0a84097ce4a70339f67705" title=" " alt="" coords="15,400,125,425"/>
<area shape="poly" title=" " alt="" coords="201,382,122,402,120,397,200,377"/>
</map>
</div>

</div>
</div>
<a id="a654241f236fc531dc6e4751852e2ad4a" name="a654241f236fc531dc6e4751852e2ad4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a654241f236fc531dc6e4751852e2ad4a">&#9670;&#160;</a></span>UDT_registerUDT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UDT UDT_registerUDT </td>
          <td>(</td>
          <td class="paramtype">jclass&#160;</td>
          <td class="paramname"><em>clazz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Oid&#160;</td>
          <td class="paramname"><em>typeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Form_pg_type&#160;</td>
          <td class="paramname"><em>pgType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>hasTupleDesc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isJavaBasedScalar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject&#160;</td>
          <td class="paramname"><em>parseMH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject&#160;</td>
          <td class="paramname"><em>readMH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject&#160;</td>
          <td class="paramname"><em>writeMH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject&#160;</td>
          <td class="paramname"><em>toStringMH</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d55/UDT_8c_source.html#l00428">428</a> of file <a class="el" href="../../d9/d55/UDT_8c_source.html">UDT.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  431</span>{</div>
<div class="line"><span class="lineno">  432</span>    jstring jcn;</div>
<div class="line"><span class="lineno">  433</span>    MemoryContext currCtx;</div>
<div class="line"><span class="lineno">  434</span>    HeapTuple nspTup;</div>
<div class="line"><span class="lineno">  435</span>    Form_pg_namespace nspStruct;</div>
<div class="line"><span class="lineno">  436</span>    TypeClass udtClass;</div>
<div class="line"><span class="lineno">  437</span>    UDT udt;</div>
<div class="line"><span class="lineno">  438</span>    Size signatureLen;</div>
<div class="line"><span class="lineno">  439</span>    jstring sqlTypeName;</div>
<div class="line"><span class="lineno">  440</span>    <span class="keywordtype">char</span>* className;</div>
<div class="line"><span class="lineno">  441</span>    <span class="keywordtype">char</span>* classSignature;</div>
<div class="line"><span class="lineno">  442</span>    <span class="keywordtype">char</span>* sp;</div>
<div class="line"><span class="lineno">  443</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* cp;</div>
<div class="line"><span class="lineno">  444</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* tp;</div>
<div class="line"><span class="lineno">  445</span>    <span class="keywordtype">char</span> c;</div>
<div class="line"><span class="lineno">  446</span> </div>
<div class="line"><span class="lineno">  447</span>    <a class="code hl_define" href="../../d0/ddd/Oid_8c.html#ae1f0ac82c78444bf9b69e7dbdd1d1983">Type</a> existing = <a class="code hl_function" href="../../d3/dca/Type_8c.html#adef7dac6b5a98e4725b85cbe6a1706c2">Type_fromOidCache</a>(typeId);</div>
<div class="line"><span class="lineno">  448</span>    <span class="keywordflow">if</span>(existing != 0)</div>
<div class="line"><span class="lineno">  449</span>    {</div>
<div class="line"><span class="lineno">  450</span>        <span class="keywordflow">if</span>(existing-&gt;typeClass-&gt;coerceDatum != <a class="code hl_function" href="../../d9/d55/UDT_8c.html#a1dfe1f0680c22cb13359e8477fae27e4">_UDT_coerceDatum</a>)</div>
<div class="line"><span class="lineno">  451</span>        {</div>
<div class="line"><span class="lineno">  452</span>            ereport(ERROR, (</div>
<div class="line"><span class="lineno">  453</span>                errcode(ERRCODE_CANNOT_COERCE),</div>
<div class="line"><span class="lineno">  454</span>                errmsg(</div>
<div class="line"><span class="lineno">  455</span>                    <span class="stringliteral">&quot;Attempt to register UDT with Oid %d failed. &quot;</span></div>
<div class="line"><span class="lineno">  456</span>                    <span class="stringliteral">&quot;Oid appoints a non UDT type&quot;</span>,</div>
<div class="line"><span class="lineno">  457</span>                    typeId)</div>
<div class="line"><span class="lineno">  458</span>                ));</div>
<div class="line"><span class="lineno">  459</span>        }</div>
<div class="line"><span class="lineno">  460</span>        <a class="code hl_function" href="../../d3/d5a/JNICalls_8c.html#a822cb8058a101ff1cc1f637440a83f16">JNI_deleteLocalRef</a>(parseMH);</div>
<div class="line"><span class="lineno">  461</span>        <a class="code hl_function" href="../../d3/d5a/JNICalls_8c.html#a822cb8058a101ff1cc1f637440a83f16">JNI_deleteLocalRef</a>(readMH);</div>
<div class="line"><span class="lineno">  462</span>        <a class="code hl_function" href="../../d3/d5a/JNICalls_8c.html#a822cb8058a101ff1cc1f637440a83f16">JNI_deleteLocalRef</a>(writeMH);</div>
<div class="line"><span class="lineno">  463</span>        <a class="code hl_function" href="../../d3/d5a/JNICalls_8c.html#a822cb8058a101ff1cc1f637440a83f16">JNI_deleteLocalRef</a>(toStringMH);</div>
<div class="line"><span class="lineno">  464</span>        <span class="keywordflow">return</span> (UDT)existing;</div>
<div class="line"><span class="lineno">  465</span>    }</div>
<div class="line"><span class="lineno">  466</span> </div>
<div class="line"><span class="lineno">  467</span>    nspTup = <a class="code hl_function" href="../../df/dd6/PgObject_8c.html#a6231536ffc72bb1c07c46cd02fced3b4">PgObject_getValidTuple</a>(</div>
<div class="line"><span class="lineno">  468</span>        NAMESPACEOID, pgType-&gt;typnamespace, <span class="stringliteral">&quot;namespace&quot;</span>);</div>
<div class="line"><span class="lineno">  469</span>    nspStruct = (Form_pg_namespace)GETSTRUCT(nspTup);</div>
<div class="line"><span class="lineno">  470</span> </div>
<div class="line"><span class="lineno">  471</span>    <span class="comment">/* Concatenate namespace + &#39;.&#39; + typename</span></div>
<div class="line"><span class="lineno">  472</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  473</span>    cp = NameStr(nspStruct-&gt;nspname);</div>
<div class="line"><span class="lineno">  474</span>    tp = NameStr(pgType-&gt;typname);</div>
<div class="line"><span class="lineno">  475</span>    sp = palloc(strlen(cp) + strlen(tp) + 2);</div>
<div class="line"><span class="lineno">  476</span>    sprintf(sp, <span class="stringliteral">&quot;%s.%s&quot;</span>, cp, tp);</div>
<div class="line"><span class="lineno">  477</span>    sqlTypeName = <a class="code hl_function" href="../../d4/db5/String_8c.html#acc0cac78b36dd9be338665bdfccb3186">String_createJavaStringFromNTS</a>(sp);</div>
<div class="line"><span class="lineno">  478</span>    pfree(sp);</div>
<div class="line"><span class="lineno">  479</span> </div>
<div class="line"><span class="lineno">  480</span>    ReleaseSysCache(nspTup);</div>
<div class="line"><span class="lineno">  481</span> </div>
<div class="line"><span class="lineno">  482</span>    <span class="comment">/* Create a Java Signature String from the class name</span></div>
<div class="line"><span class="lineno">  483</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  484</span>    jcn = <a class="code hl_function" href="../../d3/d5a/JNICalls_8c.html#a126c636124acb2c2b89545b50b98b1c9">JNI_callObjectMethod</a>(clazz, <a class="code hl_variable" href="../../d5/dab/Exception_8c.html#aed9d9ab250b6e46f75c18e60788de078">Class_getName</a>);</div>
<div class="line"><span class="lineno">  485</span>    currCtx = MemoryContextSwitchTo(TopMemoryContext);</div>
<div class="line"><span class="lineno">  486</span>    className = <a class="code hl_function" href="../../d4/db5/String_8c.html#aba633e63b49b63ba233d30003e59663c">String_createNTS</a>(jcn);</div>
<div class="line"><span class="lineno">  487</span>    <a class="code hl_function" href="../../d3/d5a/JNICalls_8c.html#a822cb8058a101ff1cc1f637440a83f16">JNI_deleteLocalRef</a>(jcn);</div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span>    signatureLen = strlen(className) + 2;</div>
<div class="line"><span class="lineno">  490</span>    classSignature = palloc(signatureLen + 1);</div>
<div class="line"><span class="lineno">  491</span>    MemoryContextSwitchTo(currCtx);</div>
<div class="line"><span class="lineno">  492</span> </div>
<div class="line"><span class="lineno">  493</span>    sp = classSignature;</div>
<div class="line"><span class="lineno">  494</span>    cp = className;</div>
<div class="line"><span class="lineno">  495</span>    *sp++ = <span class="charliteral">&#39;L&#39;</span>;</div>
<div class="line"><span class="lineno">  496</span>    <span class="keywordflow">while</span>((c = *cp++) != 0)</div>
<div class="line"><span class="lineno">  497</span>    {</div>
<div class="line"><span class="lineno">  498</span>        <span class="keywordflow">if</span>(c == <span class="charliteral">&#39;.&#39;</span>)</div>
<div class="line"><span class="lineno">  499</span>            c = <span class="charliteral">&#39;/&#39;</span>;</div>
<div class="line"><span class="lineno">  500</span>        *sp++ = c;</div>
<div class="line"><span class="lineno">  501</span>    }</div>
<div class="line"><span class="lineno">  502</span>    *sp++ = <span class="charliteral">&#39;;&#39;</span>;</div>
<div class="line"><span class="lineno">  503</span>    *sp = 0;</div>
<div class="line"><span class="lineno">  504</span> </div>
<div class="line"><span class="lineno">  505</span>    udtClass = <a class="code hl_function" href="../../d3/dca/Type_8c.html#a16d5eb92a99dffef6088c54a14a16b83">TypeClass_alloc2</a>(</div>
<div class="line"><span class="lineno">  506</span>        <span class="stringliteral">&quot;type.UDT&quot;</span>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> TypeClass_), <span class="keyword">sizeof</span>(<span class="keyword">struct</span> UDT_));</div>
<div class="line"><span class="lineno">  507</span> </div>
<div class="line"><span class="lineno">  508</span>    udtClass-&gt;JNISignature   = classSignature;</div>
<div class="line"><span class="lineno">  509</span>    udtClass-&gt;javaTypeName   = className;</div>
<div class="line"><span class="lineno">  510</span>    udtClass-&gt;javaClass      = <a class="code hl_function" href="../../d3/d5a/JNICalls_8c.html#a4f06797f3c4708e00a1e09579804b3cb">JNI_newGlobalRef</a>(clazz);</div>
<div class="line"><span class="lineno">  511</span>    udtClass-&gt;canReplaceType = <a class="code hl_function" href="../../d3/dca/Type_8c.html#a64a460f417680069c2941736f3243951">_Type_canReplaceType</a>;</div>
<div class="line"><span class="lineno">  512</span>    udtClass-&gt;coerceDatum    = <a class="code hl_function" href="../../d9/d55/UDT_8c.html#a1dfe1f0680c22cb13359e8477fae27e4">_UDT_coerceDatum</a>;</div>
<div class="line"><span class="lineno">  513</span>    udtClass-&gt;coerceObject   = <a class="code hl_function" href="../../d9/d55/UDT_8c.html#aae92fe5f07c0117e03229bb6d5e8bc60">_UDT_coerceObject</a>;</div>
<div class="line"><span class="lineno">  514</span> </div>
<div class="line"><span class="lineno">  515</span>    udt = (UDT)<a class="code hl_function" href="../../d3/dca/Type_8c.html#a0189606ef8491ff4c3281d788789bc22">TypeClass_allocInstance2</a>(udtClass, typeId, pgType);</div>
<div class="line"><span class="lineno">  516</span>    udt-&gt;sqlTypeName = <a class="code hl_function" href="../../d3/d5a/JNICalls_8c.html#a4f06797f3c4708e00a1e09579804b3cb">JNI_newGlobalRef</a>(sqlTypeName);</div>
<div class="line"><span class="lineno">  517</span>    <a class="code hl_function" href="../../d3/d5a/JNICalls_8c.html#a822cb8058a101ff1cc1f637440a83f16">JNI_deleteLocalRef</a>(sqlTypeName);</div>
<div class="line"><span class="lineno">  518</span> </div>
<div class="line"><span class="lineno">  519</span>    <span class="keywordflow">if</span>(isJavaBasedScalar)</div>
<div class="line"><span class="lineno">  520</span>    {</div>
<div class="line"><span class="lineno">  521</span>        <span class="comment">/* A scalar mapping that is implemented in Java (a BaseUDT, as declared</span></div>
<div class="line"><span class="lineno">  522</span><span class="comment">         * in Java source annotations) will have the static method:</span></div>
<div class="line"><span class="lineno">  523</span><span class="comment">         * </span></div>
<div class="line"><span class="lineno">  524</span><span class="comment">         *   T parse(String stringRep, String sqlTypeName);</span></div>
<div class="line"><span class="lineno">  525</span><span class="comment">         * </span></div>
<div class="line"><span class="lineno">  526</span><span class="comment">         * and a matching:</span></div>
<div class="line"><span class="lineno">  527</span><span class="comment">         * </span></div>
<div class="line"><span class="lineno">  528</span><span class="comment">         *   String toString();</span></div>
<div class="line"><span class="lineno">  529</span><span class="comment">         * </span></div>
<div class="line"><span class="lineno">  530</span><span class="comment">         * instance method. A MappedUDT (i.e. no Java I/O methods) will not</span></div>
<div class="line"><span class="lineno">  531</span><span class="comment">         * have them.</span></div>
<div class="line"><span class="lineno">  532</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  533</span>    </div>
<div class="line"><span class="lineno">  534</span>        <span class="comment">/* The parse method is a static method on the class with the signature</span></div>
<div class="line"><span class="lineno">  535</span><span class="comment">         * (Ljava/lang/String;Ljava/lang/String;)&lt;classSignature&gt;</span></div>
<div class="line"><span class="lineno">  536</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  537</span>        <span class="keywordflow">if</span> ( NULL == parseMH  ||  NULL == toStringMH )</div>
<div class="line"><span class="lineno">  538</span>            elog(ERROR,</div>
<div class="line"><span class="lineno">  539</span>                <span class="stringliteral">&quot;PL/Java UDT with oid %u registered without both i/o handles&quot;</span>,</div>
<div class="line"><span class="lineno">  540</span>                typeId);</div>
<div class="line"><span class="lineno">  541</span>        udt-&gt;parse = <a class="code hl_function" href="../../d3/d5a/JNICalls_8c.html#a4f06797f3c4708e00a1e09579804b3cb">JNI_newGlobalRef</a>(parseMH);</div>
<div class="line"><span class="lineno">  542</span>        udt-&gt;toString = <a class="code hl_function" href="../../d3/d5a/JNICalls_8c.html#a4f06797f3c4708e00a1e09579804b3cb">JNI_newGlobalRef</a>(toStringMH);</div>
<div class="line"><span class="lineno">  543</span>        <a class="code hl_function" href="../../d3/d5a/JNICalls_8c.html#a822cb8058a101ff1cc1f637440a83f16">JNI_deleteLocalRef</a>(parseMH);</div>
<div class="line"><span class="lineno">  544</span>        <a class="code hl_function" href="../../d3/d5a/JNICalls_8c.html#a822cb8058a101ff1cc1f637440a83f16">JNI_deleteLocalRef</a>(toStringMH);</div>
<div class="line"><span class="lineno">  545</span>    }</div>
<div class="line"><span class="lineno">  546</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  547</span>    {</div>
<div class="line"><span class="lineno">  548</span>        udt-&gt;parse = NULL;</div>
<div class="line"><span class="lineno">  549</span>        udt-&gt;toString = NULL;</div>
<div class="line"><span class="lineno">  550</span>    }</div>
<div class="line"><span class="lineno">  551</span> </div>
<div class="line"><span class="lineno">  552</span>    udt-&gt;hasTupleDesc = hasTupleDesc;</div>
<div class="line"><span class="lineno">  553</span>    <span class="keywordflow">if</span> ( NULL == readMH  ||  NULL == writeMH )</div>
<div class="line"><span class="lineno">  554</span>        elog(ERROR,</div>
<div class="line"><span class="lineno">  555</span>            <span class="stringliteral">&quot;PL/Java UDT with oid %u registered without both r/w handles&quot;</span>,</div>
<div class="line"><span class="lineno">  556</span>            typeId);</div>
<div class="line"><span class="lineno">  557</span>    udt-&gt;readSQL = <a class="code hl_function" href="../../d3/d5a/JNICalls_8c.html#a4f06797f3c4708e00a1e09579804b3cb">JNI_newGlobalRef</a>(readMH);</div>
<div class="line"><span class="lineno">  558</span>    udt-&gt;writeSQL = <a class="code hl_function" href="../../d3/d5a/JNICalls_8c.html#a4f06797f3c4708e00a1e09579804b3cb">JNI_newGlobalRef</a>(writeMH);</div>
<div class="line"><span class="lineno">  559</span>    <a class="code hl_function" href="../../d3/d5a/JNICalls_8c.html#a822cb8058a101ff1cc1f637440a83f16">JNI_deleteLocalRef</a>(readMH);</div>
<div class="line"><span class="lineno">  560</span>    <a class="code hl_function" href="../../d3/d5a/JNICalls_8c.html#a822cb8058a101ff1cc1f637440a83f16">JNI_deleteLocalRef</a>(writeMH);</div>
<div class="line"><span class="lineno">  561</span>    <a class="code hl_function" href="../../d3/dca/Type_8c.html#af2a4255567170dbb37ea14932406f031">Type_registerType</a>(className, (<a class="code hl_define" href="../../d0/ddd/Oid_8c.html#ae1f0ac82c78444bf9b69e7dbdd1d1983">Type</a>)udt);</div>
<div class="line"><span class="lineno">  562</span>    <span class="keywordflow">return</span> udt;</div>
<div class="line"><span class="lineno">  563</span>}</div>
<div class="ttc" id="aException_8c_html_aed9d9ab250b6e46f75c18e60788de078"><div class="ttname"><a href="../../d5/dab/Exception_8c.html#aed9d9ab250b6e46f75c18e60788de078">Class_getName</a></div><div class="ttdeci">jmethodID Class_getName</div><div class="ttdef"><b>Definition</b> <a href="../../d5/dab/Exception_8c_source.html#l00025">Exception.c:25</a></div></div>
<div class="ttc" id="aJNICalls_8c_html_a126c636124acb2c2b89545b50b98b1c9"><div class="ttname"><a href="../../d3/d5a/JNICalls_8c.html#a126c636124acb2c2b89545b50b98b1c9">JNI_callObjectMethod</a></div><div class="ttdeci">jobject JNI_callObjectMethod(jobject object, jmethodID methodID,...)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d5a/JNICalls_8c_source.html#l00511">JNICalls.c:511</a></div></div>
<div class="ttc" id="aJNICalls_8c_html_a4f06797f3c4708e00a1e09579804b3cb"><div class="ttname"><a href="../../d3/d5a/JNICalls_8c.html#a4f06797f3c4708e00a1e09579804b3cb">JNI_newGlobalRef</a></div><div class="ttdeci">jobject JNI_newGlobalRef(jobject object)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d5a/JNICalls_8c_source.html#l01354">JNICalls.c:1354</a></div></div>
<div class="ttc" id="aPgObject_8c_html_a6231536ffc72bb1c07c46cd02fced3b4"><div class="ttname"><a href="../../df/dd6/PgObject_8c.html#a6231536ffc72bb1c07c46cd02fced3b4">PgObject_getValidTuple</a></div><div class="ttdeci">HeapTuple PgObject_getValidTuple(int cacheId, Oid tupleId, const char *tupleType)</div><div class="ttdef"><b>Definition</b> <a href="../../df/dd6/PgObject_8c_source.html#l00181">PgObject.c:181</a></div></div>
<div class="ttc" id="aType_8c_html_a0189606ef8491ff4c3281d788789bc22"><div class="ttname"><a href="../../d3/dca/Type_8c.html#a0189606ef8491ff4c3281d788789bc22">TypeClass_allocInstance2</a></div><div class="ttdeci">Type TypeClass_allocInstance2(TypeClass cls, Oid typeId, Form_pg_type pgType)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/dca/Type_8c_source.html#l01100">Type.c:1100</a></div></div>
<div class="ttc" id="aType_8c_html_a16d5eb92a99dffef6088c54a14a16b83"><div class="ttname"><a href="../../d3/dca/Type_8c.html#a16d5eb92a99dffef6088c54a14a16b83">TypeClass_alloc2</a></div><div class="ttdeci">TypeClass TypeClass_alloc2(const char *typeName, Size classSize, Size instanceSize)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/dca/Type_8c_source.html#l01066">Type.c:1066</a></div></div>
<div class="ttc" id="aType_8c_html_a64a460f417680069c2941736f3243951"><div class="ttname"><a href="../../d3/dca/Type_8c.html#a64a460f417680069c2941736f3243951">_Type_canReplaceType</a></div><div class="ttdeci">bool _Type_canReplaceType(Type self, Type other)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/dca/Type_8c_source.html#l00808">Type.c:808</a></div></div>
<div class="ttc" id="aType_8c_html_adef7dac6b5a98e4725b85cbe6a1706c2"><div class="ttname"><a href="../../d3/dca/Type_8c.html#adef7dac6b5a98e4725b85cbe6a1706c2">Type_fromOidCache</a></div><div class="ttdeci">Type Type_fromOidCache(Oid typeId)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/dca/Type_8c_source.html#l00632">Type.c:632</a></div></div>
<div class="ttc" id="aType_8c_html_af2a4255567170dbb37ea14932406f031"><div class="ttname"><a href="../../d3/dca/Type_8c.html#af2a4255567170dbb37ea14932406f031">Type_registerType</a></div><div class="ttdeci">void Type_registerType(const char *javaTypeName, Type type)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/dca/Type_8c_source.html#l01163">Type.c:1163</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/dca/Type_8c_source.html#l00808">_Type_canReplaceType()</a>, <a class="el" href="../../d9/d55/UDT_8c_source.html#l00230">_UDT_coerceDatum()</a>, <a class="el" href="../../d9/d55/UDT_8c_source.html#l00241">_UDT_coerceObject()</a>, <a class="el" href="../../d5/dab/Exception_8c_source.html#l00025">Class_getName</a>, <a class="el" href="../../d3/d5a/JNICalls_8c_source.html#l00511">JNI_callObjectMethod()</a>, <a class="el" href="../../d3/d5a/JNICalls_8c_source.html#l00898">JNI_deleteLocalRef()</a>, <a class="el" href="../../d3/d5a/JNICalls_8c_source.html#l01354">JNI_newGlobalRef()</a>, <a class="el" href="../../df/dd6/PgObject_8c_source.html#l00181">PgObject_getValidTuple()</a>, <a class="el" href="../../d4/db5/String_8c_source.html#l00159">String_createJavaStringFromNTS()</a>, <a class="el" href="../../d4/db5/String_8c_source.html#l00239">String_createNTS()</a>, <a class="el" href="../../d0/ddd/Oid_8c_source.html#l00015">Type</a>, <a class="el" href="../../d3/dca/Type_8c_source.html#l00632">Type_fromOidCache()</a>, <a class="el" href="../../d3/dca/Type_8c_source.html#l01163">Type_registerType()</a>, <a class="el" href="../../d3/dca/Type_8c_source.html#l01066">TypeClass_alloc2()</a>, and <a class="el" href="../../d3/dca/Type_8c_source.html#l01100">TypeClass_allocInstance2()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dca/Type_8c_source.html#l00662">checkTypeMappedUDT()</a>, and <a class="el" href="../../db/d47/Function_8c_source.html#l00571">Function_checkTypeBaseUDT()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d55/UDT_8c_a654241f236fc531dc6e4751852e2ad4a_icgraph.png" border="0" usemap="#ad9/d55/UDT_8c_a654241f236fc531dc6e4751852e2ad4a_icgraph" alt=""/></div>
<map name="ad9/d55/UDT_8c_a654241f236fc531dc6e4751852e2ad4a_icgraph" id="ad9/d55/UDT_8c_a654241f236fc531dc6e4751852e2ad4a_icgraph">
<area shape="rect" title=" " alt="" coords="2596,161,2724,187"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#acd6872ccab1abaa9786a72920a32122e" title=" " alt="" coords="2369,185,2527,211"/>
<area shape="poly" title=" " alt="" coords="2583,185,2528,192,2527,186,2582,180"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a8f6cc6234bdd9b98812a5ed72171b41f" title=" " alt="" coords="2348,136,2548,161"/>
<area shape="poly" title=" " alt="" coords="2582,167,2548,163,2548,158,2583,162"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#a8987191520260e0903f4f12aeaef9029" title=" " alt="" coords="2164,185,2267,211"/>
<area shape="poly" title=" " alt="" coords="2355,201,2267,201,2267,195,2355,195"/>
<area shape="poly" title=" " alt="" coords="2254,176,2243,167,2215,164,2192,166,2180,171,2178,176,2184,184,2180,187,2172,177,2176,167,2191,161,2215,159,2245,162,2257,171"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#a8b2adfe9fbb800c8206c93ecc428d492" title=" " alt="" coords="1931,185,2063,211"/>
<area shape="poly" title=" " alt="" coords="2150,201,2064,201,2064,195,2150,195"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#a81b8d7ae61921b88a7cd2174a9f4f315" title=" " alt="" coords="1916,136,2079,161"/>
<area shape="poly" title=" " alt="" coords="2150,186,2054,164,2055,159,2151,181"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#ae44751e9d256ab4657a0b6ce585f5212" title=" " alt="" coords="1944,501,2051,527"/>
<area shape="poly" title=" " alt="" coords="2200,223,2010,503,2005,500,2196,220"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a0d9705bd13cc0019fbc604a62d3d9df2" title=" " alt="" coords="1913,57,2082,112"/>
<area shape="poly" title=" " alt="" coords="2179,181,2081,127,2056,115,2059,110,2084,122,2182,176"/>
<area shape="rect" href="../../d7/d3e/Relation_8c.html#a839ad6d78f5757e0913140f60054d239" title=" " alt="" coords="1914,235,2081,289"/>
<area shape="poly" title=" " alt="" coords="2158,217,2082,240,2080,235,2157,212"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#a546e0e9b27a7bc9f94eaea1012b2bbb1" title=" " alt="" coords="1912,336,2083,361"/>
<area shape="poly" title=" " alt="" coords="2191,222,2143,261,2084,304,2026,338,2023,334,2081,300,2139,257,2188,217"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#a011864d5eae28703b5cc5e4959109f19" title=" " alt="" coords="1439,179,1538,204"/>
<area shape="poly" title=" " alt="" coords="1917,200,1538,195,1538,189,1917,194"/>
<area shape="rect" href="../../d3/dca/Type_8c.html#a1303ff39e1cdff6f19c7670bd4ec8be7" title=" " alt="" coords="1201,179,1305,204"/>
<area shape="poly" title=" " alt="" coords="1425,194,1306,194,1306,189,1425,189"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ac1df8c0fa25768dd0de490127eb894e6" title=" " alt="" coords="540,179,671,204"/>
<area shape="poly" title=" " alt="" coords="1187,194,671,194,671,189,1187,189"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a41964073f7e490c598598f219de9606e" title=" " alt="" coords="393,179,492,204"/>
<area shape="poly" title=" " alt="" coords="526,194,492,194,492,189,526,189"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a29e1a0b0688ac19dbde93824e4ae1a59" title=" " alt="" coords="228,5,300,31"/>
<area shape="poly" title=" " alt="" coords="429,167,397,106,373,73,344,45,322,34,299,26,301,21,324,29,347,41,377,70,401,103,434,165"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a9cbb2a371195bb22f404fd9910d1436e" title=" " alt="" coords="208,55,320,80"/>
<area shape="poly" title=" " alt="" coords="422,169,388,131,344,95,317,83,320,78,347,90,392,127,426,166"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a1277cef3aef64b77b88878cf83d5724a" title=" " alt="" coords="183,104,345,129"/>
<area shape="poly" title=" " alt="" coords="406,174,344,144,309,132,311,127,346,140,408,169"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a54ecef1f816b5662e19fac6f7ea3f8bb" title=" " alt="" coords="183,153,345,179"/>
<area shape="poly" title=" " alt="" coords="380,185,345,180,346,175,380,180"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#afd0a2e48ec1b9c86c5dd07ee5f734fa8" title=" " alt="" coords="183,203,345,228"/>
<area shape="poly" title=" " alt="" coords="380,202,346,207,345,202,380,197"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a3af9b4a4b0b466102f653080d2e7ad1f" title=" " alt="" coords="183,252,345,277"/>
<area shape="poly" title=" " alt="" coords="409,213,346,243,314,255,312,249,344,238,407,208"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a892bcd3e4f63977cc8b90e3e31974535" title=" " alt="" coords="198,301,330,327"/>
<area shape="poly" title=" " alt="" coords="426,217,392,256,347,292,322,304,320,299,344,288,388,252,422,214"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a65144c70313a704b5ba376ffe2e4fa10" title=" " alt="" coords="207,351,321,376"/>
<area shape="poly" title=" " alt="" coords="434,218,401,280,377,313,347,341,323,354,320,350,344,337,373,310,397,277,429,216"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a149f96da8ffb4412ebab795d11a9363f" title=" " alt="" coords="9,252,131,277"/>
<area shape="poly" title=" " alt="" coords="200,301,120,280,122,275,201,295"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#aff8517f9c34bbbf01ad9cb9f8b8fc825" title=" " alt="" coords="5,301,135,327"/>
<area shape="poly" title=" " alt="" coords="184,317,135,317,135,311,184,311"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ab0c4cd941202a415ffad7e744e8baf0c" title=" " alt="" coords="19,351,121,376"/>
<area shape="poly" title=" " alt="" coords="193,366,121,366,121,361,193,361"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#af5381c5b0b0a84097ce4a70339f67705" title=" " alt="" coords="15,400,125,425"/>
<area shape="poly" title=" " alt="" coords="201,382,122,402,120,397,200,377"/>
<area shape="rect" href="../../d0/d87/Any_8c.html#aff8b56773fa6193ae8bb9376bd3afd25" title=" " alt="" coords="1675,128,1829,153"/>
<area shape="poly" title=" " alt="" coords="1902,148,1830,146,1830,141,1902,143"/>
<area shape="poly" title=" " alt="" coords="1673,159,1539,185,1538,179,1672,153"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#a2778e4be551c7d0fa9554bba54a13baa" title=" " alt="" coords="1663,565,1841,620"/>
<area shape="poly" title=" " alt="" coords="1944,534,1839,568,1837,563,1943,528"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#a6389e86cbf9f74354e820baaff15982c" title=" " alt="" coords="1663,487,1841,541"/>
<area shape="poly" title=" " alt="" coords="1930,517,1841,517,1841,511,1930,511"/>
<area shape="rect" href="../../d2/d62/ExecutionPlan_8c.html#aaaa4855fbf861e872df9bfb810cc101e" title=" " alt="" coords="1415,509,1562,549"/>
<area shape="poly" title=" " alt="" coords="1649,571,1561,549,1563,544,1651,565"/>
<area shape="rect" href="../../d9/db5/DualState_8c.html#a8d801b0a312cffe3bff0b46e7a5bb6e8" title=" " alt="" coords="719,372,893,397"/>
<area shape="poly" title=" " alt="" coords="1402,540,1305,543,1188,540,1062,524,1000,509,940,490,902,470,867,446,817,400,821,396,870,442,905,466,942,485,1002,504,1063,518,1188,534,1305,538,1402,534"/>
<area shape="poly" title=" " alt="" coords="780,364,618,206,622,202,784,360"/>
<area shape="poly" title=" " alt="" coords="1650,522,1562,527,1562,522,1649,517"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a7146fbf1c801b1839fb3772cc8c5f287" title=" " alt="" coords="1689,72,1815,97"/>
<area shape="poly" title=" " alt="" coords="1899,87,1816,87,1816,82,1899,82"/>
<area shape="poly" title=" " alt="" coords="1675,95,1484,111,1370,117,1255,119,1030,119,922,126,816,142,722,162,651,181,649,176,721,157,815,137,922,121,1030,114,1255,114,1369,112,1484,106,1675,90"/>
<area shape="rect" href="../../d7/d3e/Relation_8c.html#a417f173169e1a1f11b29b494d7d34612" title=" " alt="" coords="949,257,1114,283"/>
<area shape="poly" title=" " alt="" coords="1900,265,1114,272,1114,267,1900,260"/>
<area shape="poly" title=" " alt="" coords="995,291,833,374,831,370,992,287"/>
<area shape="rect" href="../../d0/ddd/Oid_8c.html#ae6f8b71f69b5d0638f5aef657dc67a16" title=" " alt="" coords="1673,280,1831,335"/>
<area shape="poly" title=" " alt="" coords="1908,336,1831,323,1832,318,1908,331"/>
<area shape="rect" href="../../df/df4/TupleDesc_8c.html#af939622dbe1e808a0c2eac99630fab60" title=" " alt="" coords="1661,408,1843,463"/>
<area shape="poly" title=" " alt="" coords="1950,369,1865,399,1833,411,1831,405,1863,394,1948,363"/>
<area shape="rect" href="../../df/df4/TupleDesc_8c.html#a9ccdcf8c074cfd34097e6a95f7d34815" title=" " alt="" coords="1640,359,1864,384"/>
<area shape="poly" title=" " alt="" coords="1899,360,1865,364,1864,358,1898,355"/>
<area shape="rect" href="../../d0/ddd/Oid_8c.html#a5250929ac42e2d6c9f4433312102b822" title=" " alt="" coords="1441,280,1537,305"/>
<area shape="poly" title=" " alt="" coords="1659,305,1537,298,1537,293,1659,299"/>
<area shape="poly" title=" " alt="" coords="1444,277,1283,207,1285,202,1447,272"/>
<area shape="rect" href="../../df/df4/TupleDesc_8c.html#a8cc68891ac2f6c575a6c0d95a5b28b84" title=" " alt="" coords="941,449,1121,475"/>
<area shape="poly" title=" " alt="" coords="1647,446,1592,449,1336,458,1121,463,1121,458,1336,453,1592,443,1647,440"/>
<area shape="poly" title=" " alt="" coords="980,447,843,400,845,395,981,442"/>
<area shape="rect" href="../../dd/dbc/SingleRowReader_8c.html#af42ece0157878da0404a440fe9551d0e" title=" " alt="" coords="1385,379,1592,433"/>
<area shape="poly" title=" " alt="" coords="1642,388,1593,395,1592,390,1641,383"/>
<area shape="rect" href="../../db/dad/Tuple_8c.html#a8d83236dd5812e7d7497976738a508f3" title=" " alt="" coords="1409,329,1568,355"/>
<area shape="poly" title=" " alt="" coords="1626,360,1568,353,1568,348,1626,355"/>
<area shape="rect" href="../../dd/dbc/SingleRowReader_8c.html#a32bb724881c2c4c62b37f7c5e7bd122d" title=" " alt="" coords="1169,390,1337,430"/>
<area shape="poly" title=" " alt="" coords="1372,411,1337,411,1337,406,1372,405"/>
<area shape="poly" title=" " alt="" coords="1155,407,893,392,894,387,1155,402"/>
<area shape="rect" href="../../db/dad/Tuple_8c.html#a7333d95832231a2075f1b1f20cb45875" title=" " alt="" coords="1178,311,1329,365"/>
<area shape="poly" title=" " alt="" coords="1396,343,1329,342,1329,337,1396,338"/>
<area shape="rect" href="../../db/dad/Tuple_8c.html#a801e0981f16603c770fd4dc2d57b7c7b" title=" " alt="" coords="957,336,1106,361"/>
<area shape="poly" title=" " alt="" coords="1164,345,1106,348,1106,342,1164,340"/>
<area shape="poly" title=" " alt="" coords="943,365,886,375,885,369,943,360"/>
<area shape="poly" title=" " alt="" coords="2375,167,2267,190,2266,185,2374,162"/>
<area shape="rect" href="../../db/d47/Function_8c.html#ae5b265e5bcb93d99775286e38eb534e1" title=" " alt="" coords="2131,37,2300,92"/>
<area shape="poly" title=" " alt="" coords="2398,134,2291,95,2293,90,2400,129"/>
<area shape="poly" title=" " alt="" coords="2117,52,2082,49,1997,43,1912,49,1850,60,1795,75,1793,69,1849,55,1912,43,1997,38,2083,43,2117,47"/>
</map>
</div>

</div>
</div>
<a id="ae7d5631da3b704ef978f3c309e5b684f" name="ae7d5631da3b704ef978f3c309e5b684f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7d5631da3b704ef978f3c309e5b684f">&#9670;&#160;</a></span>UDT_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Datum UDT_send </td>
          <td>(</td>
          <td class="paramtype">UDT&#160;</td>
          <td class="paramname"><em>udt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PG_FUNCTION_ARGS&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d55/UDT_8c_source.html#l00395">395</a> of file <a class="el" href="../../d9/d55/UDT_8c_source.html">UDT.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  396</span>{</div>
<div class="line"><span class="lineno">  397</span>    StringInfoData buf;</div>
<div class="line"><span class="lineno">  398</span>    int32 dataLen = <a class="code hl_function" href="../../d3/dca/Type_8c.html#acfa5b9530c4a4af2868f71eb1a67e3cc">Type_getLength</a>((<a class="code hl_define" href="../../d0/ddd/Oid_8c.html#ae1f0ac82c78444bf9b69e7dbdd1d1983">Type</a>)udt);</div>
<div class="line"><span class="lineno">  399</span> </div>
<div class="line"><span class="lineno">  400</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="../../d9/d55/UDT_8c.html#adb09fd4ef543dc73a80b2035e070f49a">UDT_isScalar</a>(udt))</div>
<div class="line"><span class="lineno">  401</span>        ereport(ERROR, (</div>
<div class="line"><span class="lineno">  402</span>            errcode(ERRCODE_CANNOT_COERCE),</div>
<div class="line"><span class="lineno">  403</span>            errmsg(<span class="stringliteral">&quot;UDT with Oid %d is not scalar&quot;</span>, <a class="code hl_function" href="../../d3/dca/Type_8c.html#af260fc8ada071ed08a4b22f75f0c2271">Type_getOid</a>((<a class="code hl_define" href="../../d0/ddd/Oid_8c.html#ae1f0ac82c78444bf9b69e7dbdd1d1983">Type</a>)udt))));</div>
<div class="line"><span class="lineno">  404</span> </div>
<div class="line"><span class="lineno">  405</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  406</span><span class="comment">     * ASSUMPTION 2 is in play here. The internal representation of the type</span></div>
<div class="line"><span class="lineno">  407</span><span class="comment">     * is being transmitted directly as the external byte stream.</span></div>
<div class="line"><span class="lineno">  408</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  409</span>    <span class="keywordflow">if</span>(dataLen == -1)</div>
<div class="line"><span class="lineno">  410</span>        <span class="keywordflow">return</span> byteasend(fcinfo);</div>
<div class="line"><span class="lineno">  411</span> </div>
<div class="line"><span class="lineno">  412</span>    <span class="keywordflow">if</span>(dataLen == -2)</div>
<div class="line"><span class="lineno">  413</span>        <span class="keywordflow">return</span> unknownsend(fcinfo);</div>
<div class="line"><span class="lineno">  414</span> </div>
<div class="line"><span class="lineno">  415</span>    pq_begintypsend(&amp;buf);</div>
<div class="line"><span class="lineno">  416</span>    appendBinaryStringInfo(&amp;buf, PG_GETARG_POINTER(0), dataLen);</div>
<div class="line"><span class="lineno">  417</span>    PG_RETURN_BYTEA_P(pq_endtypsend(&amp;buf));</div>
<div class="line"><span class="lineno">  418</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/ddd/Oid_8c_source.html#l00015">Type</a>, <a class="el" href="../../d3/dca/Type_8c_source.html#l00354">Type_getLength()</a>, <a class="el" href="../../d3/dca/Type_8c_source.html#l00441">Type_getOid()</a>, and <a class="el" href="../../d9/d55/UDT_8c_source.html#l00420">UDT_isScalar()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d47/Function_8c_source.html#l01257">Java_org_postgresql_pljava_internal_Function__1storeToUDT()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d55/UDT_8c_ae7d5631da3b704ef978f3c309e5b684f_icgraph.png" border="0" usemap="#ad9/d55/UDT_8c_ae7d5631da3b704ef978f3c309e5b684f_icgraph" alt=""/></div>
<map name="ad9/d55/UDT_8c_ae7d5631da3b704ef978f3c309e5b684f_icgraph" id="ad9/d55/UDT_8c_ae7d5631da3b704ef978f3c309e5b684f_icgraph">
<area shape="rect" title=" " alt="" coords="1111,179,1196,204"/>
<area shape="rect" href="../../db/d47/Function_8c.html#ae5b265e5bcb93d99775286e38eb534e1" title=" " alt="" coords="893,164,1063,219"/>
<area shape="poly" title=" " alt="" coords="1097,194,1063,194,1063,189,1097,189"/>
<area shape="rect" href="../../db/d47/Function_8c.html#a7146fbf1c801b1839fb3772cc8c5f287" title=" " alt="" coords="719,179,845,204"/>
<area shape="poly" title=" " alt="" coords="879,194,846,194,846,189,879,189"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ac1df8c0fa25768dd0de490127eb894e6" title=" " alt="" coords="540,179,671,204"/>
<area shape="poly" title=" " alt="" coords="705,194,671,194,671,189,705,189"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a41964073f7e490c598598f219de9606e" title=" " alt="" coords="393,179,492,204"/>
<area shape="poly" title=" " alt="" coords="526,194,492,194,492,189,526,189"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a29e1a0b0688ac19dbde93824e4ae1a59" title=" " alt="" coords="228,5,300,31"/>
<area shape="poly" title=" " alt="" coords="429,167,397,105,373,72,344,44,322,32,299,25,301,20,324,28,347,40,377,69,402,102,434,164"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a9cbb2a371195bb22f404fd9910d1436e" title=" " alt="" coords="208,55,320,80"/>
<area shape="poly" title=" " alt="" coords="423,170,389,130,344,94,319,82,321,77,347,89,393,127,427,166"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a1277cef3aef64b77b88878cf83d5724a" title=" " alt="" coords="183,104,345,129"/>
<area shape="poly" title=" " alt="" coords="407,174,344,143,312,132,314,127,346,138,410,170"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a54ecef1f816b5662e19fac6f7ea3f8bb" title=" " alt="" coords="183,153,345,179"/>
<area shape="poly" title=" " alt="" coords="380,185,345,180,346,175,380,180"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#afd0a2e48ec1b9c86c5dd07ee5f734fa8" title=" " alt="" coords="183,203,345,228"/>
<area shape="poly" title=" " alt="" coords="380,202,346,207,345,202,380,197"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a3af9b4a4b0b466102f653080d2e7ad1f" title=" " alt="" coords="183,252,345,277"/>
<area shape="poly" title=" " alt="" coords="407,213,346,242,311,254,309,249,344,237,405,208"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a892bcd3e4f63977cc8b90e3e31974535" title=" " alt="" coords="198,301,330,327"/>
<area shape="poly" title=" " alt="" coords="426,217,392,255,347,291,319,304,317,299,344,286,388,251,422,213"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a65144c70313a704b5ba376ffe2e4fa10" title=" " alt="" coords="207,351,321,376"/>
<area shape="poly" title=" " alt="" coords="434,218,401,279,377,312,347,340,323,353,320,349,344,336,373,308,397,276,429,215"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#a149f96da8ffb4412ebab795d11a9363f" title=" " alt="" coords="9,252,131,277"/>
<area shape="poly" title=" " alt="" coords="200,301,120,280,122,275,201,295"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#aff8517f9c34bbbf01ad9cb9f8b8fc825" title=" " alt="" coords="5,301,135,327"/>
<area shape="poly" title=" " alt="" coords="184,317,135,317,135,311,184,311"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#ab0c4cd941202a415ffad7e744e8baf0c" title=" " alt="" coords="19,351,121,376"/>
<area shape="poly" title=" " alt="" coords="193,366,121,366,121,361,193,361"/>
<area shape="rect" href="../../d8/d1b/Backend_8c.html#af5381c5b0b0a84097ce4a70339f67705" title=" " alt="" coords="15,400,125,425"/>
<area shape="poly" title=" " alt="" coords="201,382,122,402,120,397,200,377"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_1784a01aa976a8c78ef5dfc3737bcac8.html">c</a></li><li class="navelem"><a class="el" href="../../dir_f1a6b655ac22146a480063120e94ff11.html">type</a></li><li class="navelem"><a class="el" href="../../d9/d55/UDT_8c.html">UDT.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
